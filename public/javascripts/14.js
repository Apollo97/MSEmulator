(window.webpackJsonp=window.webpackJsonp||[]).push([[14,1,12,13],{332:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorRGB", function() { return ColorRGB; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorHSV", function() { return ColorHSV; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_ImageFilter", function() { return _ImageFilter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageFilter", function() { return ImageFilter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IGraph", function() { return IGraph; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IRenderer", function() { return IRenderer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageDataHelper", function() { return ImageDataHelper; });\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(333);\n\ufeff\r\n\r\n\r\nfunction colorInt24Parse2(col) {\r\n\treturn "#" + [((col >> 16) & 0xFF), ((col >> 8) & 0xFF), (col & 0xFF)].map(a=>a.toString(16).padStart(2, "0")).join("");\r\n}\r\nfunction colorInt24Parse(col) {\r\n\treturn "#" + [((col >> 16) & 0xFF), ((col >> 8) & 0xFF), (col & 0xFF)].map(a=>a.toString(16).padStart(2, "0")).join("");\r\n}\r\n\r\n\r\n/**\r\n * @interface\r\n */\r\nclass IColor {\r\n\ttoFilter() {\r\n\t}\r\n\ttoFilterLimit() {\r\n\t}\r\n}\r\n\r\n/**\r\n * @implements {IColor}\r\n */\r\nclass ColorRGB {\r\n\tconstructor(r = 0, g = 0, b = 0) {\r\n\t\t/** @type {number} - int value: 0 ~ 255 */\r\n\t\tthis.r = r;\r\n\r\n\t\t/** @type {number} - int value: 0 ~ 255 */\r\n\t\tthis.g = g;\r\n\r\n\t\t/** @type {number} - int value: 0 ~ 255 */\r\n\t\tthis.b = b;\r\n\t}\r\n\tclone() {\r\n\t\treturn new this.constructor(this.r, this.g, this.b);\r\n\t}\r\n\tselfAdd(rgb) {\r\n\t\tthis.r += rgb.r;\r\n\t\tthis.g += rgb.g;\r\n\t\tthis.b += rgb.b;\r\n\t\treturn this;\r\n\t}\r\n\tselfSub(rgb) {\r\n\t\tthis.r += rgb.r;\r\n\t\tthis.g += rgb.g;\r\n\t\tthis.b += rgb.b;\r\n\t\treturn this;\r\n\t}\r\n\tselfScale(s) {\r\n\t\tthis.r *= s;\r\n\t\tthis.g *= s;\r\n\t\tthis.b *= s;\r\n\t\treturn this;\r\n\t}\r\n\tstatic add(rgb, rgb2) {\r\n\t\treturn new ColorRGB(rgb.r + rgb2.r, rgb.g + rgb2.g, rgb.b + rgb2.b);\r\n\t}\r\n\tstatic sub(rgb, rgb2) {\r\n\t\treturn new ColorRGB(rgb.r - rgb2.r, rgb.g - rgb2.g, rgb.b - rgb2.b);\r\n\t}\r\n\tstatic scale(rgb, s) {\r\n\t\treturn new ColorRGB(rgb.r * s, rgb.g * s, rgb.b * s);\r\n\t}\r\n\ttoString() {\r\n\t\tconst r = Math.trunc(this.r);\r\n\t\tconst g = Math.trunc(this.g);\r\n\t\tconst b = Math.trunc(this.b);\r\n\t\treturn "rgb(" + r + "," + g + "," + b + ")";\r\n\t}\r\n\tstatic fromInt24(col) {\r\n\t\treturn new ColorRGB((col >> 16) & 0xFF, (col >> 8) & 0xFF, col & 0xFF);\r\n\t}\r\n\t/**\r\n\t * source: https://gist.github.com/mjackson/5311256#file-color-conversion-algorithms-js-L84\r\n\t * Converts an RGB color value to HSV. Conversion formula\r\n\t * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\r\n\t * Assumes r, g, and b are contained in the set [0, 255] and\r\n\t * returns h, s, and v in the set [0, 1].\r\n\t *\r\n\t * @returns {ColorHSV}\r\n\t */\r\n\ttoHSV() {\r\n\t\tlet r = this.r /= 255, g = this.g /= 255, b = this.b /= 255;\r\n\r\n\t\tlet max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n\t\tlet h, s, v = max;\r\n\r\n\t\tlet d = max - min;\r\n\t\ts = max == 0 ? 0 : d / max;\r\n\r\n\t\tif (max == min) {\r\n\t\t\th = 0; // achromatic\r\n\t\t} else {\r\n\t\t\tswitch (max) {\r\n\t\t\t\tcase r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n\t\t\t\tcase g: h = (b - r) / d + 2; break;\r\n\t\t\t\tcase b: h = (r - g) / d + 4; break;\r\n\t\t\t}\r\n\r\n\t\t\th /= 6;\r\n\t\t}\r\n\r\n\t\treturn new ColorHSV(h, s, v);\r\n\t}\r\n\t/**\r\n\t * source: https://gist.github.com/mjackson/5311256#file-color-conversion-algorithms-js-L119\r\n\t * Converts an HSV color value to RGB. Conversion formula\r\n\t * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\r\n\t * Assumes h, s, and v are contained in the set [0, 1] and\r\n\t * returns r, g, and b in the set [0, 255].\r\n\t *\r\n\t * @param {number} h The hue\r\n\t * @param {number} s The saturation\r\n\t * @param {number} v The value\r\n\t */\r\n\tfromHsv(h, s, v) {\r\n\t\tlet r, g, b;\r\n\r\n\t\tlet i = Math.floor(h * 6);\r\n\t\tlet f = h * 6 - i;\r\n\t\tlet p = v * (1 - s);\r\n\t\tlet q = v * (1 - f * s);\r\n\t\tlet t = v * (1 - (1 - f) * s);\r\n\r\n\t\tswitch (i % 6) {\r\n\t\t\tcase 0: r = v, g = t, b = p; break;\r\n\t\t\tcase 1: r = q, g = v, b = p; break;\r\n\t\t\tcase 2: r = p, g = v, b = t; break;\r\n\t\t\tcase 3: r = p, g = q, b = v; break;\r\n\t\t\tcase 4: r = t, g = p, b = v; break;\r\n\t\t\tcase 5: r = v, g = p, b = q; break;\r\n\t\t}\r\n\r\n\t\tthis.r = r * 255;\r\n\t\tthis.g = g * 255;\r\n\t\tthis.b = b * 255;\r\n\t}\r\n\tstatic fromHsv(h, s, v) {\r\n\t\tlet r, g, b;\r\n\r\n\t\tlet i = Math.floor(h * 6);\r\n\t\tlet f = h * 6 - i;\r\n\t\tlet p = v * (1 - s);\r\n\t\tlet q = v * (1 - f * s);\r\n\t\tlet t = v * (1 - (1 - f) * s);\r\n\r\n\t\tswitch (i % 6) {\r\n\t\t\tcase 0: r = v, g = t, b = p; break;\r\n\t\t\tcase 1: r = q, g = v, b = p; break;\r\n\t\t\tcase 2: r = p, g = v, b = t; break;\r\n\t\t\tcase 3: r = p, g = q, b = v; break;\r\n\t\t\tcase 4: r = t, g = p, b = v; break;\r\n\t\t\tcase 5: r = v, g = p, b = q; break;\r\n\t\t}\r\n\r\n\t\treturn new ColorRGB(r * 255, g * 255, b * 255);\r\n\t}\r\n\ttoFilter() {\r\n\t\tlet { h, s, v } = this.toHSV();\r\n\t\treturn `hue-rotate(${h*Math.PI*2}rad) saturate(${s}) brightness(${v})`;\r\n\t}\r\n\ttoFilterLimit() {\r\n\t\treturn `hue-rotate(${h * 360}deg) saturate(${Object(_math_js__WEBPACK_IMPORTED_MODULE_0__["clamp"])(Math.trunc(s * 100), 0, 100)}%) brightness(${Object(_math_js__WEBPACK_IMPORTED_MODULE_0__["clamp"])(Math.trunc(v * 100), 0, 100)}%)`;\r\n\t}\r\n\ttoFilter_HueRotate() {\r\n\t\tconst { h, s, v } = this;\r\n\t\t//return `hue-rotate(${h*Math.PI*2}rad)`;\r\n\t\treturn `hue-rotate(${h * 360}deg)`;\r\n\t}\r\n}\r\n\r\n/**\r\n * @implements {IColor}\r\n */\r\nclass ColorHSV {\r\n\tconstructor(h = 0, s = 0, v = 0) {\r\n\t\t/** @type {number} - float value: 0 ~ 1 */\r\n\t\tthis.h = h;\r\n\r\n\t\t/** @type {number} - float value: 0 ~ 1 */\r\n\t\tthis.s = s;\r\n\r\n\t\t/** @type {number} - float value: 0 ~ 1 */\r\n\t\tthis.v = v;\r\n\t}\r\n\tclone() {\r\n\t\treturn new this.constructor(this.h, this.s, this.v);\r\n\t}\r\n\tselfAdd(hsv) {\r\n\t\tthis.h += hsv.h;\r\n\t\tthis.s += hsv.s;\r\n\t\tthis.v += hsv.v;\r\n\t\treturn this;\r\n\t}\r\n\tselfSub(hsv) {\r\n\t\tthis.h += hsv.h;\r\n\t\tthis.s += hsv.s;\r\n\t\tthis.v += hsv.v;\r\n\t\treturn this;\r\n\t}\r\n\tselfScale(s) {\r\n\t\tthis.h *= s;\r\n\t\tthis.s *= s;\r\n\t\tthis.v *= s;\r\n\t\treturn this;\r\n\t}\r\n\tstatic add(hsv, hsv2) {\r\n\t\treturn new ColorHSV(hsv.s + hsv2.s, hsv.s + hsv2.s, hsv.v + hsv2.v);\r\n\t}\r\n\tstatic sub(hsv, hsv2) {\r\n\t\treturn new ColorHSV(hsv.s - hsv2.s, hsv.s - hsv2.s, hsv.v - hsv2.v);\r\n\t}\r\n\tstatic scale(hsv, s) {\r\n\t\treturn new ColorHSV(hsv.h * s, hsv.s * s, hsv.v * s);\r\n\t}\r\n\ttoString() {\r\n\t\tconst { h, s, v } = this;\r\n\t\treturn "hsv(" + h + "," + s + "," + v + ")";\r\n\t}\r\n\r\n\t//toRgb() {\r\n\t//}\r\n\t//fromRgb(r, g, b) {\r\n\t//}\r\n\r\n\t//static fromRgb(r, g, b) {\r\n\t//}\r\n\r\n\ttoFilter() {\r\n\t\tconst { h, s, v } = this;\r\n\t\treturn `hue-rotate(${h*Math.PI*2}rad) saturate(${s}) brightness(${v})`;\r\n\t}\r\n\ttoFilterLimit() {\r\n\t\treturn `hue-rotate(${h * 360}deg) saturate(${Object(_math_js__WEBPACK_IMPORTED_MODULE_0__["clamp"])(Math.trunc(s * 100), 0, 100)}%) brightness(${Object(_math_js__WEBPACK_IMPORTED_MODULE_0__["clamp"])(Math.trunc(v * 100), 0, 100)}%)`;\r\n\t}\r\n\ttoFilter_HueRotate() {\r\n\t\tconst { h, s, v } = this;\r\n\t\t//return `hue-rotate(${h*Math.PI*2}rad)`;\r\n\t\treturn `hue-rotate(${h * 360}deg)`;\r\n\t}\r\n}\r\n\r\nclass _ImageFilter {\r\n\t/**\r\n\t * @param {number} hue 0 ~ 360\r\n\t * @param {number} sat 0 ~ 100\r\n\t * @param {number} bri 0 ~ 100\r\n\t * @param {number} contrast 0 ~ 100\r\n\t */\r\n\tconstructor(hue = 0, sat = 100, bri = 100, contrast = 100) {\r\n\t\tthis._hue = hue;\r\n\t\tthis._sat = sat;\r\n\t\tthis._bri = bri;\r\n\t\tthis._contrast = contrast;\r\n\t}\r\n\t/** @returns {number} */\r\n\tget hue() {\r\n\t\treturn this._hue;\r\n\t}\r\n\tset hue(value) {\r\n\t\tthis._hue = value % 360;\r\n\t\tif ((this._hue % 360 == 0) && this._sat == 100 && this._bri == 100 && this._contrast == 100) {\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\t}\r\n\t/** @returns {number} */\r\n\tget sat() {\r\n\t\treturn this._sat;\r\n\t}\r\n\tset sat(value) {\r\n\t\tthis._sat = Math.max(0, value);\r\n\t\tif ((this._hue % 360 == 0) && this._sat == 100 && this._bri == 100 && this._contrast == 100) {\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\t}\r\n\t/** @returns {number} */\r\n\tget bri() {\r\n\t\treturn this._bri;\r\n\t}\r\n\tset bri(value) {\r\n\t\tthis._bri = Math.max(0, value);\r\n\t\tif ((this._hue % 360 == 0) && this._sat == 100 && this._bri == 100 && this._contrast == 100) {\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\t}\r\n\r\n\t/** @returns {number} */\r\n\tget contrast() {\r\n\t\treturn this._contrast;\r\n\t}\r\n\tset contrast(value) {\r\n\t\tthis._contrast = Math.max(0, value);\r\n\t\tif ((this._hue % 360 == 0) && this._sat == 100 && this._bri == 100 && this._contrast == 100) {\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\t}\r\n\r\n\ttoRgb() {\r\n\t\treturn ColorRGB.fromHsv(this._hue / 360, this._sat / 100, this._bri / 100);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `hue-rotate(${this._hue}deg) saturate(${this._sat}%) brightness(${this._bri}%) contrast(${this._contrast}%)`;// + ImageFilter.globalFilter\r\n\t}\r\n}\r\n\r\n/**\r\n * default no filter\r\n */\r\nclass ImageFilter extends _ImageFilter {\r\n\t/**\r\n\t * @param {number} hue 0 ~ 360\r\n\t * @param {number} sat 0 ~ 100\r\n\t * @param {number} bri 0 ~ 100\r\n\t * @param {number} contrast 0 ~ 100\r\n\t */\r\n\tconstructor(hue = 0, sat = 100, bri = 100, contrast = 100) {\r\n\t\tsuper(hue, sat, bri, contrast);\r\n\t\tif (arguments.length) {\r\n\t\t\tthis.__proto__ = _ImageFilter.prototype;\r\n\t\t}\r\n\t}\r\n\t/** @returns {number} */\r\n\tget hue() {\r\n\t\treturn 0;\r\n\t}\r\n\tset hue(value) {\r\n\t\tthis._hue = value % 360;\r\n\t\tthis.__proto__ = _ImageFilter.prototype;\r\n\t}\r\n\t/** @returns {number} */\r\n\tget sat() {\r\n\t\treturn 100;\r\n\t}\r\n\tset sat(value) {\r\n\t\tthis._sat = Math.max(0, value);\r\n\t\tthis.__proto__ = _ImageFilter.prototype;\r\n\t}\r\n\t/** @returns {number} */\r\n\tget bri() {\r\n\t\treturn 100;\r\n\t}\r\n\tset bri(value) {\r\n\t\tthis._bri = Math.max(0, value);\r\n\t\tthis.__proto__ = _ImageFilter.prototype;\r\n\t}\r\n\r\n\t/** @returns {number} */\r\n\tget contrast() {\r\n\t\treturn 100;\r\n\t}\r\n\tset contrast(value) {\r\n\t\tthis._contrast = Math.max(0, value);\r\n\t\tthis.__proto__ = _ImageFilter.prototype;\r\n\t}\r\n\r\n\ttoRgb() {\r\n\t\treturn new ColorRGB(255, 255, 255);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn "none";//ImageFilter.globalFilter ? ImageFilter.globalFilter : "none";\r\n\t}\r\n\r\n\tget isEmpty() {\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n_ImageFilter.prototype.reset = function () {\r\n\tthis._hue = 0;\r\n\tthis._sat = 100;\r\n\tthis._bri = 100;\r\n\tthis._contrast = 100;\r\n\tthis.__proto__ = ImageFilter.prototype;\r\n}\r\n\r\n/**\r\n * @param {number} hue 0 ~ 360\r\n * @param {number} sat 0 ~ 100\r\n * @param {number} bri 0 ~ 100\r\n * @param {number} contrast 0 ~ 100\r\n */\r\n_ImageFilter.prototype.set = function (hue, sat, bri, contrast) {\r\n\tif ((hue % 360 == 0) && sat == 100 && bri == 100 && contrast == 100) {\r\n\t\tthis.reset();\r\n\t}\r\n\telse {\r\n\t\tthis.hue = hue;\r\n\t\tthis.sat = sat;\r\n\t\tthis.bri = bri;\r\n\t\tthis._contrast = contrast;\r\n\t}\r\n}\r\n\r\n/**\r\n * @abstract\r\n */\r\nclass IGraph {\r\n\tconstructor(url, info) {\r\n\t\t/** @type {number} */\r\n\t\tlet width;\r\n\t\t/** @type {number} */\r\n\t\tlet height;\r\n\r\n\t\t/** @type {{ src: string, naturalWidth: number, naturalHeight: number }} */\r\n\t\tthis.texture = null;\r\n\t\t\r\n\t\t/** @type {Promise} if loaded will delete */\r\n\t\tthis.$promise = undefined;\r\n\t\t\r\n\t\t/** @type {WebGLBuffer} */\r\n\t\tthis._vbo = undefined;\r\n\r\n\t\t/** @type {number} - origin.x */\r\n\t\tthis.x = 0;\r\n\t\t/** @type {number} - origin.y */\r\n\t\tthis.y = 0;\r\n\r\n\t\tif (info) {\r\n\t\t\tif (info.width > 0) {\r\n\t\t\t\twidth = Number(info.width);\r\n\t\t\t}\r\n\t\t\tif (info.height > 0) {\r\n\t\t\t\theight = Number(info.height);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\twidth = 0;\r\n\t\t\theight = 0;\r\n\t\t}\r\n\t\t/** @type {number} */\r\n\t\tthis.width = width;\r\n\t\t/** @type {number} */\r\n\t\tthis.height = height;\r\n\t\t//\r\n\t\tObject.defineProperty(this, "width", {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function () {\r\n\t\t\t\tthis._isLoaded_or_doload();\r\n\t\t\t\treturn width;\r\n\t\t\t},\r\n\t\t\tset: function (value) {\r\n\t\t\t\tdebugger;//not override\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(this, "height", {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function () {\r\n\t\t\t\tthis._isLoaded_or_doload();\r\n\t\t\t\treturn height;\r\n\t\t\t},\r\n\t\t\tset: function (value) {\r\n\t\t\t\tdebugger;//not override\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/** @type {WebGLTexture} */\r\n\t\t/** this.texture = null; */\r\n\t\tObject.defineProperty(this, "texture", {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function () {\r\n\t\t\t\tthis.__isLoading_or_doload();\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\tset: function (value) {\r\n\t\t\t\tdebugger;//not override\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.isLoaded = this._isLoaded_or_doload;\r\n\r\n\t\t/** @type {function():void} */\r\n\t\t//this._onload = null;\r\n\r\n\t\t/** @type {string} */\r\n\t\tthis._url = "";\r\n\t\tif (url) {\r\n\t\t\tthis.src = url;\r\n\t\t}\r\n\t}\r\n\t_dispose() {\r\n\t\t//only check is loaded\r\n\t\tif (this._isLoaded()) {\r\n\t\t\t//this._engine.deleteGraph(this);\r\n\r\n\t\t\tif (this._gl) {\r\n\t\t\t\talert("gl.deleteTexture(this.texture)");\r\n\t\t\t\tthis._gl.deleteTexture(this.texture);\r\n\t\t\t}\r\n\t\t\tthis.texture = null;\r\n\t\t}\r\n\t}\r\n\r\n\tdraw() {\r\n\t\tthrow new Error("Not Implement");\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\tdraw2(x, y) {\r\n\t\tthrow new Error("Not Implement");\r\n\t}\r\n\r\n\t/**\r\n\t * @returns {IRenderer}\r\n\t */\r\n\tget _engine() {\r\n\t\tthrow new Error("Not Implement");\r\n\t}\r\n\t/**\r\n\t * @returns {WebGLRenderingContext}\r\n\t */\r\n\tget _gl() {\r\n\t\tthrow new Error("Not Implement");\r\n\t}\r\n\t/**\r\n\t * @returns {CanvasRenderingContext2D}\r\n\t */\r\n\tget _ctx() {\r\n\t\tthrow new Error("Not Implement");\r\n\t}\r\n\r\n\t//get width() { return this.matrix[0]; }\r\n\t//set width(val) { this.matrix[0] = val; }\r\n\r\n\t//get height() { return this.matrix[5]; }\r\n\t//set height(val) { this.matrix[5] = val; }\r\n\r\n\t//get x() { return this.matrix[12]; }\r\n\t//set x(val) { this.matrix[12] = val; }\r\n\r\n\t//get y() { return this.matrix[13]; }\r\n\t//set y(val) { this.matrix[13] = val; }\r\n\r\n\t/** ?? */\r\n\tget z() { return 0; }\r\n\t//get z() { return this.matrix[14]; }\r\n\t//set z(val) { this.matrix[14] = val; }\r\n\r\n\t/** ?? */\r\n\tset src(url) {\r\n\t\tdebugger;//this.src is broken;\r\n\t\t\r\n\t\tthis._dispose();\r\n\t\tthis._url = url;\r\n\t}\r\n\r\n\t_isLoaded() {\r\n\t\treturn this.texture != null;\r\n\t}\r\n\t_isLoaded_or_doload() {\r\n\t\tif (!this.texture) {\r\n\t\t\tthis.__loadTexture();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t__isLoading_or_doload() {\r\n\t\tif (this.$promise === null) {\r\n\t\t\tthis.__loadTexture();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t__loadTexture() {\r\n\t\tif (this.$promise) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this._url == "") {\r\n\t\t\tdebugger;\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet image = new Image();\r\n\r\n\t\tthis.$promise = new Promise((resolve, reject) => {\r\n\t\t\tconst engine = this._engine;\r\n\r\n\t\t\timage.addEventListener("load", e => {\r\n\t\t\t\tif (!e.target.naturalWidth || !e.target.naturalHeight) {\r\n\t\t\t\t\tdebugger;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.isLoaded = this._isLoaded;//end\r\n\r\n\t\t\t\tdelete this.width;\r\n\t\t\t\tthis.width = e.target.naturalWidth;\r\n\r\n\t\t\t\tdelete this.height;\r\n\t\t\t\tthis.height = e.target.naturalHeight;\r\n\r\n\t\t\t\tdelete this.texture;\r\n\t\t\t\tthis.texture = engine._handleImageLoaded(e.target, this);\r\n\t\t\t\t\t\r\n\t\t\t\tdelete this.$promise;\r\n\r\n\t\t\t\tresolve(this);\r\n\t\t\t}, false);\r\n\r\n\t\t\timage.addEventListener("error", e => {\r\n\t\t\t\tthis.isLoaded = this._isLoaded;//no try again\r\n\r\n\t\t\t\tif (this._graph_rect) {\r\n\t\t\t\t\tdelete this.texture;\r\n\t\t\t\t\tthis.texture = this._graph_rect;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.error("404: " + image.src);\r\n\r\n\t\t\t\tresolve(this);\r\n\t\t\t}, false);\r\n\t\t});\r\n\r\n\t\tIGraph.$all_promise.push(this.$promise);\r\n\r\n\t\timage.src = $get.imageUrl(this._url);\r\n\t}\r\n\r\n\tstatic async waitAllLoaded(cbfunc) {\r\n\t\tlet tasks = IGraph.$all_promise;\r\n\t\tconsole.log("image loaded: " + IGraph.$all_promise.length);\r\n\t\tIGraph.$all_promise = [];\r\n\t\tawait Promise.all(tasks);\r\n\t\tif (cbfunc) {\r\n\t\t\tcbfunc();\r\n\t\t}\r\n\t}\r\n}\r\nIGraph.$all_promise = [];\r\n\r\nclass IRenderer {\r\n\tconstructor() {\r\n\t\t/** @type {IGraph} */\r\n\t\tthis._GraphType = null;\r\n\r\n\t\t/**\r\n\t\t * @type {CanvasRenderingContext2D}\r\n\t\t */\r\n\t\tthis.ctx = null;\r\n\t\t\r\n\t\tthis._globalAlpha = 1;\r\n\t\tthis._globalAlphaStack = [];\r\n\t\t\r\n\t\t/** @type {Vec2} */\r\n\t\tthis.screen_size = new _math_js__WEBPACK_IMPORTED_MODULE_0__["Vec2"](0, 0);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {string} id\r\n\t */\r\n\tinit(id) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\t/** @type {IGraph} */\r\n\tget Graph() {\r\n\t\tthrow new Error("Not implement");\r\n\t\treturn new IGraph();\r\n\t}\r\n\r\n\t/**\r\n\t * swap Canvas and Canvas2\r\n\t * if (imageSmoothingEnabled) this._ctx2.imageSmoothingEnabled = true;\r\n\t * @param {boolean} imageSmoothingEnabled\r\n\t */\r\n\t$swapCanvas(imageSmoothingEnabled) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\t/** @type {HTMLCanvasElement} */\r\n\tget _canvas() {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\t/**\r\n\t * @param {HTMLImageElement} image\r\n\t * @param {IGraph} graph\r\n\t * @param {Object} texture\r\n\t */\r\n\t_handleImageLoaded(image, graph) {\r\n\t\tthrow new Error("Not implement");\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} r\r\n\t * @param {number} dx\r\n\t * @param {number} dy\r\n\t * @param {number} sx\r\n\t * @param {number} sy\r\n\t */\r\n\tsetRotationTranslationScale(r, dx, dy, sx, sy) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\t\r\n\t/**\r\n\t * @param {number} m11\r\n\t * @param {number} m12\r\n\t * @param {number} m21\r\n\t * @param {number} m22\r\n\t * @param {number} dx\r\n\t * @param {number} dy\r\n\t */\r\n\tsetTransform(m11, m12, m21, m22, dx, dy) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\tloadIdentity() {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\tpushMatrix() {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\tpopMatrix() {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\ttranslate(x, y) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} z\r\n\t */\r\n\ttranslate3d(x, y, z) {\r\n\t\talert("\'translate3d\' is deprecated");\r\n\t\tthrow new Error("\'translate3d\' is deprecated");\r\n\t}\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\tscale(x, y) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} z\r\n\t */\r\n\tscale3d(x, y, z) {\r\n\t\talert("\'scale3d\' is deprecated");\r\n\t\tthrow new Error("\'scale3d\' is deprecated");\r\n\t}\r\n\t/**\r\n\t * @param {number} r - rad\r\n\t */\r\n\trotate(r) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\t/** @type {number[]} */\r\n\tget color() {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\t/** @type {number[]} - 4fv */\r\n\tset color(f4v) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\t/**\r\n\t * @param {vec4} f4v - vec4: array\r\n\t */\r\n\tColor4fv(f4v) {\r\n\t\talert("\'Color4fv\' is deprecated");\r\n\t\tthrow new Error("\'Color4fv\' is deprecated");\r\n\t}\r\n\r\n\t/**\r\n\t * @type {number} global alpha\r\n\t */\r\n\tget globalAlpha() {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\tset globalAlpha(value) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\tpushGlobalAlpha() {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\tpopGlobalAlpha(value) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\tclearDrawScreen() {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\t/**\r\n\t * @param {IGraph} graph\r\n\t */\r\n\tdrawGraph(graph) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\t/**\r\n\t * @param {IGraph} graph\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} z\r\n\t */\r\n\tdrawGraph2(graph, x, y, z) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} w\r\n\t * @param {number} h\r\n\t */\r\n\tdrawRect(x, y, w, h) {\r\n\t\tif (arguments.length != 4) {\r\n\t\t\tconsole.error("drawRect(x, y, w, h) need 4 param");\r\n\t\t}\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n\t\r\n\t/**\r\n\t * @param {IGraph} graph\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {ColorRGB} color\r\n\t */\r\n\tdrawColoredGraph(graph, x, y, color) {\r\n\t\tthrow new Error("Not implement");\r\n\t}\r\n}\r\n\r\nclass ImageDataHelper {\r\n\tconstructor() {\r\n\t\tthis.canvas = document.createElement(\'canvas\');\r\n\t\tthis.ctx = this.canvas.getContext(\'2d\');\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} width\r\n\t * @param {number} height\r\n\t */\r\n\tresize(width, height) {\r\n\t\tcanvas.width = width;\r\n\t\tcanvas.height = height;\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.ctx.clearRect(0, 0, this.canvas.width, this.height);\r\n\t}\r\n\t\r\n\t/**\r\n\t * @param {HTMLImageElement} image\r\n\t * @returns {ImageData}\r\n\t */\r\n\timageToImagedata(image) {\r\n\t\tconst canvas = this.canvas;\r\n\t\tconst ctx = this.ctx;\r\n\r\n\t\tcanvas.width = image.width;\r\n\t\tcanvas.height = image.height;\r\n\t\tctx.drawImage(image, 0, 0);\r\n\r\n\t\treturn ctx.getImageData(0, 0, image.width, image.height);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {ImageData} imagedata\r\n\t * @returns {string}\r\n\t */\r\n\timagedataToDataURL(imagedata) {\r\n\t\tconst canvas = this.canvas;\r\n\t\tconst ctx = this.ctx;\r\n\r\n\t\tcanvas.width = imagedata.width;\r\n\t\tcanvas.height = imagedata.height;\r\n\t\tctx.putImageData(imagedata, 0, 0);\r\n\t\t\r\n\t\treturn canvas.toDataURL();\r\n\t}\r\n\r\n\t/**\r\n\t * @param {ImageData} imagedata\r\n\t * @returns {HTMLImageElement}\r\n\t */\r\n\timagedataToImage(imagedata) {\r\n\t\tconst canvas = this.canvas;\r\n\t\tconst ctx = this.ctx;\r\n\r\n\t\tcanvas.width = imagedata.width;\r\n\t\tcanvas.height = imagedata.height;\r\n\t\tctx.putImageData(imagedata, 0, 0);\r\n\r\n\t\tlet image = new Image();\r\n\t\timage.src = canvas.toDataURL();\r\n\t\treturn image;\r\n\t}\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvSVJlbmRlcmVyLmpzPzc4OTMiXSwic291cmNlc0NvbnRlbnQiOlsi77u/XHJcbmltcG9ydCB7IFZlYzIsIGNsYW1wIH0gZnJvbSAnLi9tYXRoLmpzJztcclxuXHJcbmZ1bmN0aW9uIGNvbG9ySW50MjRQYXJzZTIoY29sKSB7XHJcblx0cmV0dXJuIFwiI1wiICsgWygoY29sID4+IDE2KSAmIDB4RkYpLCAoKGNvbCA+PiA4KSAmIDB4RkYpLCAoY29sICYgMHhGRildLm1hcChhPT5hLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpLmpvaW4oXCJcIik7XHJcbn1cclxuZnVuY3Rpb24gY29sb3JJbnQyNFBhcnNlKGNvbCkge1xyXG5cdHJldHVybiBcIiNcIiArIFsoKGNvbCA+PiAxNikgJiAweEZGKSwgKChjb2wgPj4gOCkgJiAweEZGKSwgKGNvbCAmIDB4RkYpXS5tYXAoYT0+YS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKS5qb2luKFwiXCIpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBpbnRlcmZhY2VcclxuICovXHJcbmNsYXNzIElDb2xvciB7XHJcblx0dG9GaWx0ZXIoKSB7XHJcblx0fVxyXG5cdHRvRmlsdGVyTGltaXQoKSB7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQGltcGxlbWVudHMge0lDb2xvcn1cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb2xvclJHQiB7XHJcblx0Y29uc3RydWN0b3IociA9IDAsIGcgPSAwLCBiID0gMCkge1xyXG5cdFx0LyoqIEB0eXBlIHtudW1iZXJ9IC0gaW50IHZhbHVlOiAwIH4gMjU1ICovXHJcblx0XHR0aGlzLnIgPSByO1xyXG5cclxuXHRcdC8qKiBAdHlwZSB7bnVtYmVyfSAtIGludCB2YWx1ZTogMCB+IDI1NSAqL1xyXG5cdFx0dGhpcy5nID0gZztcclxuXHJcblx0XHQvKiogQHR5cGUge251bWJlcn0gLSBpbnQgdmFsdWU6IDAgfiAyNTUgKi9cclxuXHRcdHRoaXMuYiA9IGI7XHJcblx0fVxyXG5cdGNsb25lKCkge1xyXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuciwgdGhpcy5nLCB0aGlzLmIpO1xyXG5cdH1cclxuXHRzZWxmQWRkKHJnYikge1xyXG5cdFx0dGhpcy5yICs9IHJnYi5yO1xyXG5cdFx0dGhpcy5nICs9IHJnYi5nO1xyXG5cdFx0dGhpcy5iICs9IHJnYi5iO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cdHNlbGZTdWIocmdiKSB7XHJcblx0XHR0aGlzLnIgKz0gcmdiLnI7XHJcblx0XHR0aGlzLmcgKz0gcmdiLmc7XHJcblx0XHR0aGlzLmIgKz0gcmdiLmI7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblx0c2VsZlNjYWxlKHMpIHtcclxuXHRcdHRoaXMuciAqPSBzO1xyXG5cdFx0dGhpcy5nICo9IHM7XHJcblx0XHR0aGlzLmIgKj0gcztcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHRzdGF0aWMgYWRkKHJnYiwgcmdiMikge1xyXG5cdFx0cmV0dXJuIG5ldyBDb2xvclJHQihyZ2IuciArIHJnYjIuciwgcmdiLmcgKyByZ2IyLmcsIHJnYi5iICsgcmdiMi5iKTtcclxuXHR9XHJcblx0c3RhdGljIHN1YihyZ2IsIHJnYjIpIHtcclxuXHRcdHJldHVybiBuZXcgQ29sb3JSR0IocmdiLnIgLSByZ2IyLnIsIHJnYi5nIC0gcmdiMi5nLCByZ2IuYiAtIHJnYjIuYik7XHJcblx0fVxyXG5cdHN0YXRpYyBzY2FsZShyZ2IsIHMpIHtcclxuXHRcdHJldHVybiBuZXcgQ29sb3JSR0IocmdiLnIgKiBzLCByZ2IuZyAqIHMsIHJnYi5iICogcyk7XHJcblx0fVxyXG5cdHRvU3RyaW5nKCkge1xyXG5cdFx0Y29uc3QgciA9IE1hdGgudHJ1bmModGhpcy5yKTtcclxuXHRcdGNvbnN0IGcgPSBNYXRoLnRydW5jKHRoaXMuZyk7XHJcblx0XHRjb25zdCBiID0gTWF0aC50cnVuYyh0aGlzLmIpO1xyXG5cdFx0cmV0dXJuIFwicmdiKFwiICsgciArIFwiLFwiICsgZyArIFwiLFwiICsgYiArIFwiKVwiO1xyXG5cdH1cclxuXHRzdGF0aWMgZnJvbUludDI0KGNvbCkge1xyXG5cdFx0cmV0dXJuIG5ldyBDb2xvclJHQigoY29sID4+IDE2KSAmIDB4RkYsIChjb2wgPj4gOCkgJiAweEZGLCBjb2wgJiAweEZGKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogc291cmNlOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9tamFja3Nvbi81MzExMjU2I2ZpbGUtY29sb3ItY29udmVyc2lvbi1hbGdvcml0aG1zLWpzLUw4NFxyXG5cdCAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU1YuIENvbnZlcnNpb24gZm9ybXVsYVxyXG5cdCAqIGFkYXB0ZWQgZnJvbSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTVl9jb2xvcl9zcGFjZS5cclxuXHQgKiBBc3N1bWVzIHIsIGcsIGFuZCBiIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMjU1XSBhbmRcclxuXHQgKiByZXR1cm5zIGgsIHMsIGFuZCB2IGluIHRoZSBzZXQgWzAsIDFdLlxyXG5cdCAqXHJcblx0ICogQHJldHVybnMge0NvbG9ySFNWfVxyXG5cdCAqL1xyXG5cdHRvSFNWKCkge1xyXG5cdFx0bGV0IHIgPSB0aGlzLnIgLz0gMjU1LCBnID0gdGhpcy5nIC89IDI1NSwgYiA9IHRoaXMuYiAvPSAyNTU7XHJcblxyXG5cdFx0bGV0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpLCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcclxuXHRcdGxldCBoLCBzLCB2ID0gbWF4O1xyXG5cclxuXHRcdGxldCBkID0gbWF4IC0gbWluO1xyXG5cdFx0cyA9IG1heCA9PSAwID8gMCA6IGQgLyBtYXg7XHJcblxyXG5cdFx0aWYgKG1heCA9PSBtaW4pIHtcclxuXHRcdFx0aCA9IDA7IC8vIGFjaHJvbWF0aWNcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN3aXRjaCAobWF4KSB7XHJcblx0XHRcdFx0Y2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgZzogaCA9IChiIC0gcikgLyBkICsgMjsgYnJlYWs7XHJcblx0XHRcdFx0Y2FzZSBiOiBoID0gKHIgLSBnKSAvIGQgKyA0OyBicmVhaztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aCAvPSA2O1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBuZXcgQ29sb3JIU1YoaCwgcywgdik7XHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIHNvdXJjZTogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbWphY2tzb24vNTMxMTI1NiNmaWxlLWNvbG9yLWNvbnZlcnNpb24tYWxnb3JpdGhtcy1qcy1MMTE5XHJcblx0ICogQ29udmVydHMgYW4gSFNWIGNvbG9yIHZhbHVlIHRvIFJHQi4gQ29udmVyc2lvbiBmb3JtdWxhXHJcblx0ICogYWRhcHRlZCBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNWX2NvbG9yX3NwYWNlLlxyXG5cdCAqIEFzc3VtZXMgaCwgcywgYW5kIHYgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAxXSBhbmRcclxuXHQgKiByZXR1cm5zIHIsIGcsIGFuZCBiIGluIHRoZSBzZXQgWzAsIDI1NV0uXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gaCBUaGUgaHVlXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHMgVGhlIHNhdHVyYXRpb25cclxuXHQgKiBAcGFyYW0ge251bWJlcn0gdiBUaGUgdmFsdWVcclxuXHQgKi9cclxuXHRmcm9tSHN2KGgsIHMsIHYpIHtcclxuXHRcdGxldCByLCBnLCBiO1xyXG5cclxuXHRcdGxldCBpID0gTWF0aC5mbG9vcihoICogNik7XHJcblx0XHRsZXQgZiA9IGggKiA2IC0gaTtcclxuXHRcdGxldCBwID0gdiAqICgxIC0gcyk7XHJcblx0XHRsZXQgcSA9IHYgKiAoMSAtIGYgKiBzKTtcclxuXHRcdGxldCB0ID0gdiAqICgxIC0gKDEgLSBmKSAqIHMpO1xyXG5cclxuXHRcdHN3aXRjaCAoaSAlIDYpIHtcclxuXHRcdFx0Y2FzZSAwOiByID0gdiwgZyA9IHQsIGIgPSBwOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxOiByID0gcSwgZyA9IHYsIGIgPSBwOyBicmVhaztcclxuXHRcdFx0Y2FzZSAyOiByID0gcCwgZyA9IHYsIGIgPSB0OyBicmVhaztcclxuXHRcdFx0Y2FzZSAzOiByID0gcCwgZyA9IHEsIGIgPSB2OyBicmVhaztcclxuXHRcdFx0Y2FzZSA0OiByID0gdCwgZyA9IHAsIGIgPSB2OyBicmVhaztcclxuXHRcdFx0Y2FzZSA1OiByID0gdiwgZyA9IHAsIGIgPSBxOyBicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnIgPSByICogMjU1O1xyXG5cdFx0dGhpcy5nID0gZyAqIDI1NTtcclxuXHRcdHRoaXMuYiA9IGIgKiAyNTU7XHJcblx0fVxyXG5cdHN0YXRpYyBmcm9tSHN2KGgsIHMsIHYpIHtcclxuXHRcdGxldCByLCBnLCBiO1xyXG5cclxuXHRcdGxldCBpID0gTWF0aC5mbG9vcihoICogNik7XHJcblx0XHRsZXQgZiA9IGggKiA2IC0gaTtcclxuXHRcdGxldCBwID0gdiAqICgxIC0gcyk7XHJcblx0XHRsZXQgcSA9IHYgKiAoMSAtIGYgKiBzKTtcclxuXHRcdGxldCB0ID0gdiAqICgxIC0gKDEgLSBmKSAqIHMpO1xyXG5cclxuXHRcdHN3aXRjaCAoaSAlIDYpIHtcclxuXHRcdFx0Y2FzZSAwOiByID0gdiwgZyA9IHQsIGIgPSBwOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxOiByID0gcSwgZyA9IHYsIGIgPSBwOyBicmVhaztcclxuXHRcdFx0Y2FzZSAyOiByID0gcCwgZyA9IHYsIGIgPSB0OyBicmVhaztcclxuXHRcdFx0Y2FzZSAzOiByID0gcCwgZyA9IHEsIGIgPSB2OyBicmVhaztcclxuXHRcdFx0Y2FzZSA0OiByID0gdCwgZyA9IHAsIGIgPSB2OyBicmVhaztcclxuXHRcdFx0Y2FzZSA1OiByID0gdiwgZyA9IHAsIGIgPSBxOyBicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IENvbG9yUkdCKHIgKiAyNTUsIGcgKiAyNTUsIGIgKiAyNTUpO1xyXG5cdH1cclxuXHR0b0ZpbHRlcigpIHtcclxuXHRcdGxldCB7IGgsIHMsIHYgfSA9IHRoaXMudG9IU1YoKTtcclxuXHRcdHJldHVybiBgaHVlLXJvdGF0ZSgke2gqTWF0aC5QSSoyfXJhZCkgc2F0dXJhdGUoJHtzfSkgYnJpZ2h0bmVzcygke3Z9KWA7XHJcblx0fVxyXG5cdHRvRmlsdGVyTGltaXQoKSB7XHJcblx0XHRyZXR1cm4gYGh1ZS1yb3RhdGUoJHtoICogMzYwfWRlZykgc2F0dXJhdGUoJHtjbGFtcChNYXRoLnRydW5jKHMgKiAxMDApLCAwLCAxMDApfSUpIGJyaWdodG5lc3MoJHtjbGFtcChNYXRoLnRydW5jKHYgKiAxMDApLCAwLCAxMDApfSUpYDtcclxuXHR9XHJcblx0dG9GaWx0ZXJfSHVlUm90YXRlKCkge1xyXG5cdFx0Y29uc3QgeyBoLCBzLCB2IH0gPSB0aGlzO1xyXG5cdFx0Ly9yZXR1cm4gYGh1ZS1yb3RhdGUoJHtoKk1hdGguUEkqMn1yYWQpYDtcclxuXHRcdHJldHVybiBgaHVlLXJvdGF0ZSgke2ggKiAzNjB9ZGVnKWA7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQGltcGxlbWVudHMge0lDb2xvcn1cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb2xvckhTViB7XHJcblx0Y29uc3RydWN0b3IoaCA9IDAsIHMgPSAwLCB2ID0gMCkge1xyXG5cdFx0LyoqIEB0eXBlIHtudW1iZXJ9IC0gZmxvYXQgdmFsdWU6IDAgfiAxICovXHJcblx0XHR0aGlzLmggPSBoO1xyXG5cclxuXHRcdC8qKiBAdHlwZSB7bnVtYmVyfSAtIGZsb2F0IHZhbHVlOiAwIH4gMSAqL1xyXG5cdFx0dGhpcy5zID0gcztcclxuXHJcblx0XHQvKiogQHR5cGUge251bWJlcn0gLSBmbG9hdCB2YWx1ZTogMCB+IDEgKi9cclxuXHRcdHRoaXMudiA9IHY7XHJcblx0fVxyXG5cdGNsb25lKCkge1xyXG5cdFx0cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuaCwgdGhpcy5zLCB0aGlzLnYpO1xyXG5cdH1cclxuXHRzZWxmQWRkKGhzdikge1xyXG5cdFx0dGhpcy5oICs9IGhzdi5oO1xyXG5cdFx0dGhpcy5zICs9IGhzdi5zO1xyXG5cdFx0dGhpcy52ICs9IGhzdi52O1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cdHNlbGZTdWIoaHN2KSB7XHJcblx0XHR0aGlzLmggKz0gaHN2Lmg7XHJcblx0XHR0aGlzLnMgKz0gaHN2LnM7XHJcblx0XHR0aGlzLnYgKz0gaHN2LnY7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblx0c2VsZlNjYWxlKHMpIHtcclxuXHRcdHRoaXMuaCAqPSBzO1xyXG5cdFx0dGhpcy5zICo9IHM7XHJcblx0XHR0aGlzLnYgKj0gcztcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHRzdGF0aWMgYWRkKGhzdiwgaHN2Mikge1xyXG5cdFx0cmV0dXJuIG5ldyBDb2xvckhTVihoc3YucyArIGhzdjIucywgaHN2LnMgKyBoc3YyLnMsIGhzdi52ICsgaHN2Mi52KTtcclxuXHR9XHJcblx0c3RhdGljIHN1Yihoc3YsIGhzdjIpIHtcclxuXHRcdHJldHVybiBuZXcgQ29sb3JIU1YoaHN2LnMgLSBoc3YyLnMsIGhzdi5zIC0gaHN2Mi5zLCBoc3YudiAtIGhzdjIudik7XHJcblx0fVxyXG5cdHN0YXRpYyBzY2FsZShoc3YsIHMpIHtcclxuXHRcdHJldHVybiBuZXcgQ29sb3JIU1YoaHN2LmggKiBzLCBoc3YucyAqIHMsIGhzdi52ICogcyk7XHJcblx0fVxyXG5cdHRvU3RyaW5nKCkge1xyXG5cdFx0Y29uc3QgeyBoLCBzLCB2IH0gPSB0aGlzO1xyXG5cdFx0cmV0dXJuIFwiaHN2KFwiICsgaCArIFwiLFwiICsgcyArIFwiLFwiICsgdiArIFwiKVwiO1xyXG5cdH1cclxuXHJcblx0Ly90b1JnYigpIHtcclxuXHQvL31cclxuXHQvL2Zyb21SZ2IociwgZywgYikge1xyXG5cdC8vfVxyXG5cclxuXHQvL3N0YXRpYyBmcm9tUmdiKHIsIGcsIGIpIHtcclxuXHQvL31cclxuXHJcblx0dG9GaWx0ZXIoKSB7XHJcblx0XHRjb25zdCB7IGgsIHMsIHYgfSA9IHRoaXM7XHJcblx0XHRyZXR1cm4gYGh1ZS1yb3RhdGUoJHtoKk1hdGguUEkqMn1yYWQpIHNhdHVyYXRlKCR7c30pIGJyaWdodG5lc3MoJHt2fSlgO1xyXG5cdH1cclxuXHR0b0ZpbHRlckxpbWl0KCkge1xyXG5cdFx0cmV0dXJuIGBodWUtcm90YXRlKCR7aCAqIDM2MH1kZWcpIHNhdHVyYXRlKCR7Y2xhbXAoTWF0aC50cnVuYyhzICogMTAwKSwgMCwgMTAwKX0lKSBicmlnaHRuZXNzKCR7Y2xhbXAoTWF0aC50cnVuYyh2ICogMTAwKSwgMCwgMTAwKX0lKWA7XHJcblx0fVxyXG5cdHRvRmlsdGVyX0h1ZVJvdGF0ZSgpIHtcclxuXHRcdGNvbnN0IHsgaCwgcywgdiB9ID0gdGhpcztcclxuXHRcdC8vcmV0dXJuIGBodWUtcm90YXRlKCR7aCpNYXRoLlBJKjJ9cmFkKWA7XHJcblx0XHRyZXR1cm4gYGh1ZS1yb3RhdGUoJHtoICogMzYwfWRlZylgO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIF9JbWFnZUZpbHRlciB7XHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGh1ZSAwIH4gMzYwXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNhdCAwIH4gMTAwXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGJyaSAwIH4gMTAwXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGNvbnRyYXN0IDAgfiAxMDBcclxuXHQgKi9cclxuXHRjb25zdHJ1Y3RvcihodWUgPSAwLCBzYXQgPSAxMDAsIGJyaSA9IDEwMCwgY29udHJhc3QgPSAxMDApIHtcclxuXHRcdHRoaXMuX2h1ZSA9IGh1ZTtcclxuXHRcdHRoaXMuX3NhdCA9IHNhdDtcclxuXHRcdHRoaXMuX2JyaSA9IGJyaTtcclxuXHRcdHRoaXMuX2NvbnRyYXN0ID0gY29udHJhc3Q7XHJcblx0fVxyXG5cdC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xyXG5cdGdldCBodWUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5faHVlO1xyXG5cdH1cclxuXHRzZXQgaHVlKHZhbHVlKSB7XHJcblx0XHR0aGlzLl9odWUgPSB2YWx1ZSAlIDM2MDtcclxuXHRcdGlmICgodGhpcy5faHVlICUgMzYwID09IDApICYmIHRoaXMuX3NhdCA9PSAxMDAgJiYgdGhpcy5fYnJpID09IDEwMCAmJiB0aGlzLl9jb250cmFzdCA9PSAxMDApIHtcclxuXHRcdFx0dGhpcy5yZXNldCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvKiogQHJldHVybnMge251bWJlcn0gKi9cclxuXHRnZXQgc2F0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NhdDtcclxuXHR9XHJcblx0c2V0IHNhdCh2YWx1ZSkge1xyXG5cdFx0dGhpcy5fc2F0ID0gTWF0aC5tYXgoMCwgdmFsdWUpO1xyXG5cdFx0aWYgKCh0aGlzLl9odWUgJSAzNjAgPT0gMCkgJiYgdGhpcy5fc2F0ID09IDEwMCAmJiB0aGlzLl9icmkgPT0gMTAwICYmIHRoaXMuX2NvbnRyYXN0ID09IDEwMCkge1xyXG5cdFx0XHR0aGlzLnJlc2V0KCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xyXG5cdGdldCBicmkoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fYnJpO1xyXG5cdH1cclxuXHRzZXQgYnJpKHZhbHVlKSB7XHJcblx0XHR0aGlzLl9icmkgPSBNYXRoLm1heCgwLCB2YWx1ZSk7XHJcblx0XHRpZiAoKHRoaXMuX2h1ZSAlIDM2MCA9PSAwKSAmJiB0aGlzLl9zYXQgPT0gMTAwICYmIHRoaXMuX2JyaSA9PSAxMDAgJiYgdGhpcy5fY29udHJhc3QgPT0gMTAwKSB7XHJcblx0XHRcdHRoaXMucmVzZXQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xyXG5cdGdldCBjb250cmFzdCgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9jb250cmFzdDtcclxuXHR9XHJcblx0c2V0IGNvbnRyYXN0KHZhbHVlKSB7XHJcblx0XHR0aGlzLl9jb250cmFzdCA9IE1hdGgubWF4KDAsIHZhbHVlKTtcclxuXHRcdGlmICgodGhpcy5faHVlICUgMzYwID09IDApICYmIHRoaXMuX3NhdCA9PSAxMDAgJiYgdGhpcy5fYnJpID09IDEwMCAmJiB0aGlzLl9jb250cmFzdCA9PSAxMDApIHtcclxuXHRcdFx0dGhpcy5yZXNldCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dG9SZ2IoKSB7XHJcblx0XHRyZXR1cm4gQ29sb3JSR0IuZnJvbUhzdih0aGlzLl9odWUgLyAzNjAsIHRoaXMuX3NhdCAvIDEwMCwgdGhpcy5fYnJpIC8gMTAwKTtcclxuXHR9XHJcblxyXG5cdHRvU3RyaW5nKCkge1xyXG5cdFx0cmV0dXJuIGBodWUtcm90YXRlKCR7dGhpcy5faHVlfWRlZykgc2F0dXJhdGUoJHt0aGlzLl9zYXR9JSkgYnJpZ2h0bmVzcygke3RoaXMuX2JyaX0lKSBjb250cmFzdCgke3RoaXMuX2NvbnRyYXN0fSUpYDsvLyArIEltYWdlRmlsdGVyLmdsb2JhbEZpbHRlclxyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIGRlZmF1bHQgbm8gZmlsdGVyXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW1hZ2VGaWx0ZXIgZXh0ZW5kcyBfSW1hZ2VGaWx0ZXIge1xyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBodWUgMCB+IDM2MFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBzYXQgMCB+IDEwMFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBicmkgMCB+IDEwMFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBjb250cmFzdCAwIH4gMTAwXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IoaHVlID0gMCwgc2F0ID0gMTAwLCBicmkgPSAxMDAsIGNvbnRyYXN0ID0gMTAwKSB7XHJcblx0XHRzdXBlcihodWUsIHNhdCwgYnJpLCBjb250cmFzdCk7XHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG5cdFx0XHR0aGlzLl9fcHJvdG9fXyA9IF9JbWFnZUZpbHRlci5wcm90b3R5cGU7XHJcblx0XHR9XHJcblx0fVxyXG5cdC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xyXG5cdGdldCBodWUoKSB7XHJcblx0XHRyZXR1cm4gMDtcclxuXHR9XHJcblx0c2V0IGh1ZSh2YWx1ZSkge1xyXG5cdFx0dGhpcy5faHVlID0gdmFsdWUgJSAzNjA7XHJcblx0XHR0aGlzLl9fcHJvdG9fXyA9IF9JbWFnZUZpbHRlci5wcm90b3R5cGU7XHJcblx0fVxyXG5cdC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xyXG5cdGdldCBzYXQoKSB7XHJcblx0XHRyZXR1cm4gMTAwO1xyXG5cdH1cclxuXHRzZXQgc2F0KHZhbHVlKSB7XHJcblx0XHR0aGlzLl9zYXQgPSBNYXRoLm1heCgwLCB2YWx1ZSk7XHJcblx0XHR0aGlzLl9fcHJvdG9fXyA9IF9JbWFnZUZpbHRlci5wcm90b3R5cGU7XHJcblx0fVxyXG5cdC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xyXG5cdGdldCBicmkoKSB7XHJcblx0XHRyZXR1cm4gMTAwO1xyXG5cdH1cclxuXHRzZXQgYnJpKHZhbHVlKSB7XHJcblx0XHR0aGlzLl9icmkgPSBNYXRoLm1heCgwLCB2YWx1ZSk7XHJcblx0XHR0aGlzLl9fcHJvdG9fXyA9IF9JbWFnZUZpbHRlci5wcm90b3R5cGU7XHJcblx0fVxyXG5cclxuXHQvKiogQHJldHVybnMge251bWJlcn0gKi9cclxuXHRnZXQgY29udHJhc3QoKSB7XHJcblx0XHRyZXR1cm4gMTAwO1xyXG5cdH1cclxuXHRzZXQgY29udHJhc3QodmFsdWUpIHtcclxuXHRcdHRoaXMuX2NvbnRyYXN0ID0gTWF0aC5tYXgoMCwgdmFsdWUpO1xyXG5cdFx0dGhpcy5fX3Byb3RvX18gPSBfSW1hZ2VGaWx0ZXIucHJvdG90eXBlO1xyXG5cdH1cclxuXHJcblx0dG9SZ2IoKSB7XHJcblx0XHRyZXR1cm4gbmV3IENvbG9yUkdCKDI1NSwgMjU1LCAyNTUpO1xyXG5cdH1cclxuXHJcblx0dG9TdHJpbmcoKSB7XHJcblx0XHRyZXR1cm4gXCJub25lXCI7Ly9JbWFnZUZpbHRlci5nbG9iYWxGaWx0ZXIgPyBJbWFnZUZpbHRlci5nbG9iYWxGaWx0ZXIgOiBcIm5vbmVcIjtcclxuXHR9XHJcblxyXG5cdGdldCBpc0VtcHR5KCkge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5fSW1hZ2VGaWx0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG5cdHRoaXMuX2h1ZSA9IDA7XHJcblx0dGhpcy5fc2F0ID0gMTAwO1xyXG5cdHRoaXMuX2JyaSA9IDEwMDtcclxuXHR0aGlzLl9jb250cmFzdCA9IDEwMDtcclxuXHR0aGlzLl9fcHJvdG9fXyA9IEltYWdlRmlsdGVyLnByb3RvdHlwZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBodWUgMCB+IDM2MFxyXG4gKiBAcGFyYW0ge251bWJlcn0gc2F0IDAgfiAxMDBcclxuICogQHBhcmFtIHtudW1iZXJ9IGJyaSAwIH4gMTAwXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb250cmFzdCAwIH4gMTAwXHJcbiAqL1xyXG5fSW1hZ2VGaWx0ZXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChodWUsIHNhdCwgYnJpLCBjb250cmFzdCkge1xyXG5cdGlmICgoaHVlICUgMzYwID09IDApICYmIHNhdCA9PSAxMDAgJiYgYnJpID09IDEwMCAmJiBjb250cmFzdCA9PSAxMDApIHtcclxuXHRcdHRoaXMucmVzZXQoKTtcclxuXHR9XHJcblx0ZWxzZSB7XHJcblx0XHR0aGlzLmh1ZSA9IGh1ZTtcclxuXHRcdHRoaXMuc2F0ID0gc2F0O1xyXG5cdFx0dGhpcy5icmkgPSBicmk7XHJcblx0XHR0aGlzLl9jb250cmFzdCA9IGNvbnRyYXN0O1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBhYnN0cmFjdFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIElHcmFwaCB7XHJcblx0Y29uc3RydWN0b3IodXJsLCBpbmZvKSB7XHJcblx0XHQvKiogQHR5cGUge251bWJlcn0gKi9cclxuXHRcdGxldCB3aWR0aDtcclxuXHRcdC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG5cdFx0bGV0IGhlaWdodDtcclxuXHJcblx0XHQvKiogQHR5cGUge3sgc3JjOiBzdHJpbmcsIG5hdHVyYWxXaWR0aDogbnVtYmVyLCBuYXR1cmFsSGVpZ2h0OiBudW1iZXIgfX0gKi9cclxuXHRcdHRoaXMudGV4dHVyZSA9IG51bGw7XHJcblx0XHRcclxuXHRcdC8qKiBAdHlwZSB7UHJvbWlzZX0gaWYgbG9hZGVkIHdpbGwgZGVsZXRlICovXHJcblx0XHR0aGlzLiRwcm9taXNlID0gdW5kZWZpbmVkO1xyXG5cdFx0XHJcblx0XHQvKiogQHR5cGUge1dlYkdMQnVmZmVyfSAqL1xyXG5cdFx0dGhpcy5fdmJvID0gdW5kZWZpbmVkO1xyXG5cclxuXHRcdC8qKiBAdHlwZSB7bnVtYmVyfSAtIG9yaWdpbi54ICovXHJcblx0XHR0aGlzLnggPSAwO1xyXG5cdFx0LyoqIEB0eXBlIHtudW1iZXJ9IC0gb3JpZ2luLnkgKi9cclxuXHRcdHRoaXMueSA9IDA7XHJcblxyXG5cdFx0aWYgKGluZm8pIHtcclxuXHRcdFx0aWYgKGluZm8ud2lkdGggPiAwKSB7XHJcblx0XHRcdFx0d2lkdGggPSBOdW1iZXIoaW5mby53aWR0aCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGluZm8uaGVpZ2h0ID4gMCkge1xyXG5cdFx0XHRcdGhlaWdodCA9IE51bWJlcihpbmZvLmhlaWdodCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHR3aWR0aCA9IDA7XHJcblx0XHRcdGhlaWdodCA9IDA7XHJcblx0XHR9XHJcblx0XHQvKiogQHR5cGUge251bWJlcn0gKi9cclxuXHRcdHRoaXMud2lkdGggPSB3aWR0aDtcclxuXHRcdC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG5cdFx0dGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblx0XHQvL1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwid2lkdGhcIiwge1xyXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHRoaXMuX2lzTG9hZGVkX29yX2RvbG9hZCgpO1xyXG5cdFx0XHRcdHJldHVybiB3aWR0aDtcclxuXHRcdFx0fSxcclxuXHRcdFx0c2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdFx0XHRkZWJ1Z2dlcjsvL25vdCBvdmVycmlkZVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlaWdodFwiLCB7XHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dGhpcy5faXNMb2FkZWRfb3JfZG9sb2FkKCk7XHJcblx0XHRcdFx0cmV0dXJuIGhlaWdodDtcclxuXHRcdFx0fSxcclxuXHRcdFx0c2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdFx0XHRkZWJ1Z2dlcjsvL25vdCBvdmVycmlkZVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvKiogQHR5cGUge1dlYkdMVGV4dHVyZX0gKi9cclxuXHRcdC8qKiB0aGlzLnRleHR1cmUgPSBudWxsOyAqL1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGV4dHVyZVwiLCB7XHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dGhpcy5fX2lzTG9hZGluZ19vcl9kb2xvYWQoKTtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fSxcclxuXHRcdFx0c2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdFx0XHRkZWJ1Z2dlcjsvL25vdCBvdmVycmlkZVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmlzTG9hZGVkID0gdGhpcy5faXNMb2FkZWRfb3JfZG9sb2FkO1xyXG5cclxuXHRcdC8qKiBAdHlwZSB7ZnVuY3Rpb24oKTp2b2lkfSAqL1xyXG5cdFx0Ly90aGlzLl9vbmxvYWQgPSBudWxsO1xyXG5cclxuXHRcdC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG5cdFx0dGhpcy5fdXJsID0gXCJcIjtcclxuXHRcdGlmICh1cmwpIHtcclxuXHRcdFx0dGhpcy5zcmMgPSB1cmw7XHJcblx0XHR9XHJcblx0fVxyXG5cdF9kaXNwb3NlKCkge1xyXG5cdFx0Ly9vbmx5IGNoZWNrIGlzIGxvYWRlZFxyXG5cdFx0aWYgKHRoaXMuX2lzTG9hZGVkKCkpIHtcclxuXHRcdFx0Ly90aGlzLl9lbmdpbmUuZGVsZXRlR3JhcGgodGhpcyk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5fZ2wpIHtcclxuXHRcdFx0XHRhbGVydChcImdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKVwiKTtcclxuXHRcdFx0XHR0aGlzLl9nbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy50ZXh0dXJlID0gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGRyYXcoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgSW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqL1xyXG5cdGRyYXcyKHgsIHkpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBJbXBsZW1lbnRcIik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcmV0dXJucyB7SVJlbmRlcmVyfVxyXG5cdCAqL1xyXG5cdGdldCBfZW5naW5lKCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IEltcGxlbWVudFwiKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQHJldHVybnMge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cclxuXHQgKi9cclxuXHRnZXQgX2dsKCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IEltcGxlbWVudFwiKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQHJldHVybnMge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cclxuXHQgKi9cclxuXHRnZXQgX2N0eCgpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBJbXBsZW1lbnRcIik7XHJcblx0fVxyXG5cclxuXHQvL2dldCB3aWR0aCgpIHsgcmV0dXJuIHRoaXMubWF0cml4WzBdOyB9XHJcblx0Ly9zZXQgd2lkdGgodmFsKSB7IHRoaXMubWF0cml4WzBdID0gdmFsOyB9XHJcblxyXG5cdC8vZ2V0IGhlaWdodCgpIHsgcmV0dXJuIHRoaXMubWF0cml4WzVdOyB9XHJcblx0Ly9zZXQgaGVpZ2h0KHZhbCkgeyB0aGlzLm1hdHJpeFs1XSA9IHZhbDsgfVxyXG5cclxuXHQvL2dldCB4KCkgeyByZXR1cm4gdGhpcy5tYXRyaXhbMTJdOyB9XHJcblx0Ly9zZXQgeCh2YWwpIHsgdGhpcy5tYXRyaXhbMTJdID0gdmFsOyB9XHJcblxyXG5cdC8vZ2V0IHkoKSB7IHJldHVybiB0aGlzLm1hdHJpeFsxM107IH1cclxuXHQvL3NldCB5KHZhbCkgeyB0aGlzLm1hdHJpeFsxM10gPSB2YWw7IH1cclxuXHJcblx0LyoqID8/ICovXHJcblx0Z2V0IHooKSB7IHJldHVybiAwOyB9XHJcblx0Ly9nZXQgeigpIHsgcmV0dXJuIHRoaXMubWF0cml4WzE0XTsgfVxyXG5cdC8vc2V0IHoodmFsKSB7IHRoaXMubWF0cml4WzE0XSA9IHZhbDsgfVxyXG5cclxuXHQvKiogPz8gKi9cclxuXHRzZXQgc3JjKHVybCkge1xyXG5cdFx0ZGVidWdnZXI7Ly90aGlzLnNyYyBpcyBicm9rZW47XHJcblx0XHRcclxuXHRcdHRoaXMuX2Rpc3Bvc2UoKTtcclxuXHRcdHRoaXMuX3VybCA9IHVybDtcclxuXHR9XHJcblxyXG5cdF9pc0xvYWRlZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLnRleHR1cmUgIT0gbnVsbDtcclxuXHR9XHJcblx0X2lzTG9hZGVkX29yX2RvbG9hZCgpIHtcclxuXHRcdGlmICghdGhpcy50ZXh0dXJlKSB7XHJcblx0XHRcdHRoaXMuX19sb2FkVGV4dHVyZSgpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0X19pc0xvYWRpbmdfb3JfZG9sb2FkKCkge1xyXG5cdFx0aWYgKHRoaXMuJHByb21pc2UgPT09IG51bGwpIHtcclxuXHRcdFx0dGhpcy5fX2xvYWRUZXh0dXJlKCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0X19sb2FkVGV4dHVyZSgpIHtcclxuXHRcdGlmICh0aGlzLiRwcm9taXNlKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLl91cmwgPT0gXCJcIikge1xyXG5cdFx0XHRkZWJ1Z2dlcjtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuXHRcdHRoaXMuJHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdGNvbnN0IGVuZ2luZSA9IHRoaXMuX2VuZ2luZTtcclxuXHJcblx0XHRcdGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGUgPT4ge1xyXG5cdFx0XHRcdGlmICghZS50YXJnZXQubmF0dXJhbFdpZHRoIHx8ICFlLnRhcmdldC5uYXR1cmFsSGVpZ2h0KSB7XHJcblx0XHRcdFx0XHRkZWJ1Z2dlcjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRoaXMuaXNMb2FkZWQgPSB0aGlzLl9pc0xvYWRlZDsvL2VuZFxyXG5cclxuXHRcdFx0XHRkZWxldGUgdGhpcy53aWR0aDtcclxuXHRcdFx0XHR0aGlzLndpZHRoID0gZS50YXJnZXQubmF0dXJhbFdpZHRoO1xyXG5cclxuXHRcdFx0XHRkZWxldGUgdGhpcy5oZWlnaHQ7XHJcblx0XHRcdFx0dGhpcy5oZWlnaHQgPSBlLnRhcmdldC5uYXR1cmFsSGVpZ2h0O1xyXG5cclxuXHRcdFx0XHRkZWxldGUgdGhpcy50ZXh0dXJlO1xyXG5cdFx0XHRcdHRoaXMudGV4dHVyZSA9IGVuZ2luZS5faGFuZGxlSW1hZ2VMb2FkZWQoZS50YXJnZXQsIHRoaXMpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0ZGVsZXRlIHRoaXMuJHByb21pc2U7XHJcblxyXG5cdFx0XHRcdHJlc29sdmUodGhpcyk7XHJcblx0XHRcdH0sIGZhbHNlKTtcclxuXHJcblx0XHRcdGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBlID0+IHtcclxuXHRcdFx0XHR0aGlzLmlzTG9hZGVkID0gdGhpcy5faXNMb2FkZWQ7Ly9ubyB0cnkgYWdhaW5cclxuXHJcblx0XHRcdFx0aWYgKHRoaXMuX2dyYXBoX3JlY3QpIHtcclxuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnRleHR1cmU7XHJcblx0XHRcdFx0XHR0aGlzLnRleHR1cmUgPSB0aGlzLl9ncmFwaF9yZWN0O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKFwiNDA0OiBcIiArIGltYWdlLnNyYyk7XHJcblxyXG5cdFx0XHRcdHJlc29sdmUodGhpcyk7XHJcblx0XHRcdH0sIGZhbHNlKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdElHcmFwaC4kYWxsX3Byb21pc2UucHVzaCh0aGlzLiRwcm9taXNlKTtcclxuXHJcblx0XHRpbWFnZS5zcmMgPSAkZ2V0LmltYWdlVXJsKHRoaXMuX3VybCk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgYXN5bmMgd2FpdEFsbExvYWRlZChjYmZ1bmMpIHtcclxuXHRcdGxldCB0YXNrcyA9IElHcmFwaC4kYWxsX3Byb21pc2U7XHJcblx0XHRjb25zb2xlLmxvZyhcImltYWdlIGxvYWRlZDogXCIgKyBJR3JhcGguJGFsbF9wcm9taXNlLmxlbmd0aCk7XHJcblx0XHRJR3JhcGguJGFsbF9wcm9taXNlID0gW107XHJcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0YXNrcyk7XHJcblx0XHRpZiAoY2JmdW5jKSB7XHJcblx0XHRcdGNiZnVuYygpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5JR3JhcGguJGFsbF9wcm9taXNlID0gW107XHJcblxyXG5leHBvcnQgY2xhc3MgSVJlbmRlcmVyIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8qKiBAdHlwZSB7SUdyYXBofSAqL1xyXG5cdFx0dGhpcy5fR3JhcGhUeXBlID0gbnVsbDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XHJcblx0XHQgKi9cclxuXHRcdHRoaXMuY3R4ID0gbnVsbDtcclxuXHRcdFxyXG5cdFx0dGhpcy5fZ2xvYmFsQWxwaGEgPSAxO1xyXG5cdFx0dGhpcy5fZ2xvYmFsQWxwaGFTdGFjayA9IFtdO1xyXG5cdFx0XHJcblx0XHQvKiogQHR5cGUge1ZlYzJ9ICovXHJcblx0XHR0aGlzLnNjcmVlbl9zaXplID0gbmV3IFZlYzIoMCwgMCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaWRcclxuXHQgKi9cclxuXHRpbml0KGlkKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHJcblx0LyoqIEB0eXBlIHtJR3JhcGh9ICovXHJcblx0Z2V0IEdyYXBoKCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudFwiKTtcclxuXHRcdHJldHVybiBuZXcgSUdyYXBoKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBzd2FwIENhbnZhcyBhbmQgQ2FudmFzMlxyXG5cdCAqIGlmIChpbWFnZVNtb290aGluZ0VuYWJsZWQpIHRoaXMuX2N0eDIuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gdHJ1ZTtcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGltYWdlU21vb3RoaW5nRW5hYmxlZFxyXG5cdCAqL1xyXG5cdCRzd2FwQ2FudmFzKGltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudFwiKTtcclxuXHR9XHJcblxyXG5cdC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9ICovXHJcblx0Z2V0IF9jYW52YXMoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fSBpbWFnZVxyXG5cdCAqIEBwYXJhbSB7SUdyYXBofSBncmFwaFxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0ZXh0dXJlXHJcblx0ICovXHJcblx0X2hhbmRsZUltYWdlTG9hZGVkKGltYWdlLCBncmFwaCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudFwiKTtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHJcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHlcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gc3hcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gc3lcclxuXHQgKi9cclxuXHRzZXRSb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUociwgZHgsIGR5LCBzeCwgc3kpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRcIik7XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBtMTFcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gbTEyXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IG0yMVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBtMjJcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHlcclxuXHQgKi9cclxuXHRzZXRUcmFuc2Zvcm0obTExLCBtMTIsIG0yMSwgbTIyLCBkeCwgZHkpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRsb2FkSWRlbnRpdHkoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHRwdXNoTWF0cml4KCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudFwiKTtcclxuXHR9XHJcblx0cG9wTWF0cml4KCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudFwiKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqL1xyXG5cdHRyYW5zbGF0ZSh4LCB5KSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHpcclxuXHQgKi9cclxuXHR0cmFuc2xhdGUzZCh4LCB5LCB6KSB7XHJcblx0XHRhbGVydChcIid0cmFuc2xhdGUzZCcgaXMgZGVwcmVjYXRlZFwiKTtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIid0cmFuc2xhdGUzZCcgaXMgZGVwcmVjYXRlZFwiKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqL1xyXG5cdHNjYWxlKHgsIHkpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRcIik7XHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHlcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gelxyXG5cdCAqL1xyXG5cdHNjYWxlM2QoeCwgeSwgeikge1xyXG5cdFx0YWxlcnQoXCInc2NhbGUzZCcgaXMgZGVwcmVjYXRlZFwiKTtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIidzY2FsZTNkJyBpcyBkZXByZWNhdGVkXCIpO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gciAtIHJhZFxyXG5cdCAqL1xyXG5cdHJvdGF0ZShyKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHJcblx0LyoqIEB0eXBlIHtudW1iZXJbXX0gKi9cclxuXHRnZXQgY29sb3IoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHJcblx0LyoqIEB0eXBlIHtudW1iZXJbXX0gLSA0ZnYgKi9cclxuXHRzZXQgY29sb3IoZjR2KSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHt2ZWM0fSBmNHYgLSB2ZWM0OiBhcnJheVxyXG5cdCAqL1xyXG5cdENvbG9yNGZ2KGY0dikge1xyXG5cdFx0YWxlcnQoXCInQ29sb3I0ZnYnIGlzIGRlcHJlY2F0ZWRcIik7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCInQ29sb3I0ZnYnIGlzIGRlcHJlY2F0ZWRcIik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAdHlwZSB7bnVtYmVyfSBnbG9iYWwgYWxwaGFcclxuXHQgKi9cclxuXHRnZXQgZ2xvYmFsQWxwaGEoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHRzZXQgZ2xvYmFsQWxwaGEodmFsdWUpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRwdXNoR2xvYmFsQWxwaGEoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHJcblx0cG9wR2xvYmFsQWxwaGEodmFsdWUpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRjbGVhckRyYXdTY3JlZW4oKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtJR3JhcGh9IGdyYXBoXHJcblx0ICovXHJcblx0ZHJhd0dyYXBoKGdyYXBoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge0lHcmFwaH0gZ3JhcGhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHpcclxuXHQgKi9cclxuXHRkcmF3R3JhcGgyKGdyYXBoLCB4LCB5LCB6KSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB3XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGhcclxuXHQgKi9cclxuXHRkcmF3UmVjdCh4LCB5LCB3LCBoKSB7XHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSA0KSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJkcmF3UmVjdCh4LCB5LCB3LCBoKSBuZWVkIDQgcGFyYW1cIik7XHJcblx0XHR9XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50XCIpO1xyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge0lHcmFwaH0gZ3JhcGhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICogQHBhcmFtIHtDb2xvclJHQn0gY29sb3JcclxuXHQgKi9cclxuXHRkcmF3Q29sb3JlZEdyYXBoKGdyYXBoLCB4LCB5LCBjb2xvcikge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudFwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbWFnZURhdGFIZWxwZXIge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuXHRcdHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcclxuXHQgKi9cclxuXHRyZXNpemUod2lkdGgsIGhlaWdodCkge1xyXG5cdFx0Y2FudmFzLndpZHRoID0gd2lkdGg7XHJcblx0XHRjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cdH1cclxuXHJcblx0Y2xlYXIoKSB7XHJcblx0XHR0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fSBpbWFnZVxyXG5cdCAqIEByZXR1cm5zIHtJbWFnZURhdGF9XHJcblx0ICovXHJcblx0aW1hZ2VUb0ltYWdlZGF0YShpbWFnZSkge1xyXG5cdFx0Y29uc3QgY2FudmFzID0gdGhpcy5jYW52YXM7XHJcblx0XHRjb25zdCBjdHggPSB0aGlzLmN0eDtcclxuXHJcblx0XHRjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcclxuXHRcdGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcblx0XHRjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcclxuXHJcblx0XHRyZXR1cm4gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBpbWFnZWRhdGFcclxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG5cdCAqL1xyXG5cdGltYWdlZGF0YVRvRGF0YVVSTChpbWFnZWRhdGEpIHtcclxuXHRcdGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzO1xyXG5cdFx0Y29uc3QgY3R4ID0gdGhpcy5jdHg7XHJcblxyXG5cdFx0Y2FudmFzLndpZHRoID0gaW1hZ2VkYXRhLndpZHRoO1xyXG5cdFx0Y2FudmFzLmhlaWdodCA9IGltYWdlZGF0YS5oZWlnaHQ7XHJcblx0XHRjdHgucHV0SW1hZ2VEYXRhKGltYWdlZGF0YSwgMCwgMCk7XHJcblx0XHRcclxuXHRcdHJldHVybiBjYW52YXMudG9EYXRhVVJMKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge0ltYWdlRGF0YX0gaW1hZ2VkYXRhXHJcblx0ICogQHJldHVybnMge0hUTUxJbWFnZUVsZW1lbnR9XHJcblx0ICovXHJcblx0aW1hZ2VkYXRhVG9JbWFnZShpbWFnZWRhdGEpIHtcclxuXHRcdGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzO1xyXG5cdFx0Y29uc3QgY3R4ID0gdGhpcy5jdHg7XHJcblxyXG5cdFx0Y2FudmFzLndpZHRoID0gaW1hZ2VkYXRhLndpZHRoO1xyXG5cdFx0Y2FudmFzLmhlaWdodCA9IGltYWdlZGF0YS5oZWlnaHQ7XHJcblx0XHRjdHgucHV0SW1hZ2VEYXRhKGltYWdlZGF0YSwgMCwgMCk7XHJcblxyXG5cdFx0bGV0IGltYWdlID0gbmV3IEltYWdlKCk7XHJcblx0XHRpbWFnZS5zcmMgPSBjYW52YXMudG9EYXRhVVJMKCk7XHJcblx0XHRyZXR1cm4gaW1hZ2U7XHJcblx0fVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///332\n')},333:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Vec2", function() { return Vec2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rectangle", function() { return Rectangle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Randomizer", function() { return Randomizer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clamp", function() { return clamp; });\n\ufeff\r\nclass Vec2 {\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\tconstructor(x, y) {\r\n\t\tif (arguments.length > 1) {\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t\telse if (arguments.length == 1 && x != null) {\r\n\t\t\tthis.x = x.x | 0;\r\n\t\t\tthis.y = x.y | 0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.x = 0;\r\n\t\t\tthis.y = 0;\r\n\t\t}\r\n\t}\r\n\tstatic get() {\r\n\t\treturn new Vec2(...arguments);\r\n\t}\r\n\tstatic get empty() {\r\n\t\treturn new Vec2(0, 0);\r\n\t}\r\n\t/**\r\n\t * @returns {Vec2}\r\n\t */\r\n\tclone() {\r\n\t\treturn new this.constructor(this.x, this.y);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {...Vec2} v2\r\n\t * @returns {Vec2}\r\n\t */\r\n\tadd(v2) {\r\n\t\tlet x = this.x, y = this.y;\r\n\t\tfor (let v of arguments) {\r\n\t\t\tif (v == null)\r\n\t\t\t\tcontinue;\r\n\t\t\tx = x + v.x;\r\n\t\t\ty = y + v.y;\r\n\t\t}\r\n\t\treturn new Vec2(x, y);\r\n\t}\r\n\t/**\r\n\t * @param {...Vec2} v2\r\n\t * @returns {Vec2}\r\n\t */\r\n\tsub(v2) {\r\n\t\tlet x = this.x, y = this.y;\r\n\t\tfor (let v of arguments) {\r\n\t\t\tif (v == null)\r\n\t\t\t\tcontinue;\r\n\t\t\tx = x - v.x;\r\n\t\t\ty = y - v.y;\r\n\t\t}\r\n\t\treturn new Vec2(x, y);\r\n\t}\r\n\r\n\t/** @param {Vec2} v */\r\n\tplus(v) {\r\n\t\treturn new Vec2(this.x + v.x, this.y + v.y);\r\n\t}\r\n\t/** @param {Vec2} v */\r\n\tminus(v) {\r\n\t\treturn new Vec2(this.x - v.x, this.y - v.y);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\tplus2(x, y) {\r\n\t\treturn new Vec2(this.x + x, this.y + y);\r\n\t}\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\tminus2(x, y) {\r\n\t\treturn new Vec2(this.x - x, this.y - y);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} floatVar\r\n\t */\r\n\tmul(floatVar) {\r\n\t\treturn new Vec2(this.x * floatVar, this.y * floatVar);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} s\r\n\t */\r\n\tscale(s) {\r\n\t\treturn new Vec2(this.x * s, this.y * s);\r\n\t}\r\n\r\n\trotate(ang) {\r\n\t\tlet x = Math.cos(ang) * this.x - Math.sin(ang) * this.y;\r\n\t\tlet y = Math.sin(ang) * this.x + Math.cos(ang) * this.y;\r\n\t\treturn new Vec2(x, y);\r\n\t}\r\n\r\n\tnormalize() {\r\n\t\tlet r = Math.sqrt(this.x * this.x + this.y * this.y);\r\n\t\treturn new Vec2(this.x / r, this.y / r);\r\n\t}\r\n\r\n\tlength() {\r\n\t\treturn Math.sqrt(x ** 2 + y ** 2);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Vec2} p2\r\n\t */\r\n\tdistance_sq(p2) {\r\n\t\tlet lx = this.x - p2.x;\r\n\t\tlet ly = this.y - p2.y;\r\n\t\treturn lx * lx + ly * ly;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Vec2} p2\r\n\t */\r\n\tdistance(p2) {\r\n\t\tlet lx = this.x - p2.x;\r\n\t\tlet ly = this.y - p2.y;\r\n\t\treturn Math.sqrt(lx * lx + ly * ly);\r\n\t}\r\n}\r\n\r\nclass Rectangle {\r\n\t/**\r\n\t * Rectangle(left: number, top: number, width: number, height: number)\r\n\t * Rectangle(position: Vec2, size: Vec2)\r\n\t * Rectangle(rect: Rectangle)\r\n\t * Rectangle() => Rectangle(0, 0, 0, 0)\r\n\t */\r\n\tconstructor() {\r\n\t\tif (arguments.length == 4) {\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.left = arguments[0];//x\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.top = arguments[1];//y\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.width = arguments[2];//w\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.height = arguments[3];//h\r\n\t\t}\r\n\t\telse if (arguments.length == 2) {\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.left = arguments[0].x;\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.top = arguments[0].y;\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.width = arguments[1].x;\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.height = arguments[1].y;\r\n\t\t}\r\n\t\telse if (arguments[0] instanceof Rectangle) {\r\n\t\t\tconst r = arguments[0];\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.left = r.left;\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.top = r.top;\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.width = r.width;\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.height = r.height;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.left = 0;\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.top = 0;\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.width = 0;\r\n\t\t\t/** @type {number} */\r\n\t\t\tthis.height = 0;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Rectangle} other\r\n\t */\r\n\tcopy(other) {\r\n\t\tthis.left = other.left;\r\n\t\tthis.top = other.top;\r\n\t\tthis.width = other.width;\r\n\t\tthis.height = other.height;\r\n\t}\r\n\t\r\n\tclone() {\r\n\t\treturn new Rectangle(this);\r\n\t}\r\n\r\n\tget x() { return this.left; }\r\n\tset x(value) { this.left = value; }\r\n\r\n\tget y() { return this.top; }\r\n\tset y(value) { this.top = value; }\r\n\r\n\tget right() { return this.left + this.width; }\r\n\tset right(value) { this.width = value - this.left; }\r\n\r\n\tget bottom() { return this.top + this.height; }\r\n\tset bottom(value) { this.height = value - this.top; }\r\n\r\n\tget size() {\r\n\t\treturn new Vec2(this.width, this.height);\r\n\t}\r\n\tset size(value) {\r\n\t\tthis.width = value.width || value.x;\r\n\t\tthis.height = value.height || value.y;\r\n\t}\r\n\r\n\tget center() {\r\n\t\treturn new Vec2(this.left + this.width * 0.5, this.top + this.height * 2 / 3);\r\n\t}\r\n\tset center(value) {\r\n\t\tlet w2 = this.width * 0.5;\r\n\t\tlet h23 = this.height * 2 / 3;\r\n\r\n\t\tthis.left = value.x - w2;\r\n\t\tthis.top = value.y - h23;\r\n\t}\r\n\tsetCenter(cx, cy) {\r\n\t\tlet w2 = this.width * 0.5;\r\n\t\tlet h23 = this.height * 2 / 3;\r\n\r\n\t\tthis.left = cx - w2;\r\n\t\tthis.top = cy - h23;\r\n\t}\r\n\t\r\n\tcollide(other) {\r\n\t\treturn (this.left < other.right && this.right > other.left && this.top < other.bottom && this.bottom > other.top);\r\n\t}\r\n\t\r\n\tcollide4f(left, right, top, bottom) {\r\n\t\treturn (this.left < right && this.right > left && this.top < bottom && this.bottom > top);\r\n\t}\r\n\tcollide4f2(x, y, hwidth, hheight) {\r\n\t\tconst left = x - hwidth;\r\n\t\tconst top = y - hheight;\r\n\t\tconst right = x + hwidth;\r\n\t\tconst bottom = y + hheight;\r\n\t\treturn (this.left < right && this.right > left && this.top < bottom && this.bottom > top);\r\n\t}\r\n\tcollide2f2x(x, hwidth) {\r\n\t\tconst left = x - hwidth;\r\n\t\tconst right = x + hwidth;\r\n\t\treturn (this.left < right && this.right > left);\r\n\t}\r\n\tcollide2f2y(y, hheight) {\r\n\t\tconst top = y - hheight;\r\n\t\tconst bottom = y + hheight;\r\n\t\treturn (this.top < bottom && this.bottom > top);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} left\r\n\t * @param {number} top\r\n\t * @param {number} right\r\n\t * @param {number} bottom\r\n\t */\r\n\tparse(left, top, right, bottom) {\r\n\t\tthis.left = left;\r\n\t\tthis.top = top;\r\n\t\tthis.right = right;\r\n\t\tthis.bottom = bottom;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} left\r\n\t * @param {number} top\r\n\t * @param {number} right\r\n\t * @param {number} bottom\r\n\t */\r\n\tstatic parse(left, top, right, bottom) {\r\n\t\treturn new Rectangle(left, top, right - left, bottom - top);\r\n\t}\r\n}\r\n\r\nclass Randomizer {\r\n\tstatic nextInt(r) {\r\n\t\treturn Math.trunc(Math.random() * 100 % r);\r\n\t}\r\n\tstatic randInt(min, max) {\r\n\t\treturn Math.trunc(min + Math.random() * 100 % (max - min + 1));\r\n\t}\r\n\tstatic nextBoolean() {\r\n\t\treturn !(Math.trunc(Math.random() * 100) & 1);\r\n\t}\r\n}\r\n\r\nfunction clamp(value, min, max) {\r\n\treturn Math.max(min, Math.min(value, max));\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvbWF0aC5qcz9hYzI0Il0sInNvdXJjZXNDb250ZW50IjpbIu+7v1xyXG5leHBvcnQgY2xhc3MgVmVjMiB7XHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xyXG5cdFx0XHR0aGlzLnggPSB4O1xyXG5cdFx0XHR0aGlzLnkgPSB5O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxICYmIHggIT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLnggPSB4LnggfCAwO1xyXG5cdFx0XHR0aGlzLnkgPSB4LnkgfCAwO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHRoaXMueCA9IDA7XHJcblx0XHRcdHRoaXMueSA9IDA7XHJcblx0XHR9XHJcblx0fVxyXG5cdHN0YXRpYyBnZXQoKSB7XHJcblx0XHRyZXR1cm4gbmV3IFZlYzIoLi4uYXJndW1lbnRzKTtcclxuXHR9XHJcblx0c3RhdGljIGdldCBlbXB0eSgpIHtcclxuXHRcdHJldHVybiBuZXcgVmVjMigwLCAwKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQHJldHVybnMge1ZlYzJ9XHJcblx0ICovXHJcblx0Y2xvbmUoKSB7XHJcblx0XHRyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LCB0aGlzLnkpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHsuLi5WZWMyfSB2MlxyXG5cdCAqIEByZXR1cm5zIHtWZWMyfVxyXG5cdCAqL1xyXG5cdGFkZCh2Mikge1xyXG5cdFx0bGV0IHggPSB0aGlzLngsIHkgPSB0aGlzLnk7XHJcblx0XHRmb3IgKGxldCB2IG9mIGFyZ3VtZW50cykge1xyXG5cdFx0XHRpZiAodiA9PSBudWxsKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR4ID0geCArIHYueDtcclxuXHRcdFx0eSA9IHkgKyB2Lnk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbmV3IFZlYzIoeCwgeSk7XHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7Li4uVmVjMn0gdjJcclxuXHQgKiBAcmV0dXJucyB7VmVjMn1cclxuXHQgKi9cclxuXHRzdWIodjIpIHtcclxuXHRcdGxldCB4ID0gdGhpcy54LCB5ID0gdGhpcy55O1xyXG5cdFx0Zm9yIChsZXQgdiBvZiBhcmd1bWVudHMpIHtcclxuXHRcdFx0aWYgKHYgPT0gbnVsbClcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0eCA9IHggLSB2Lng7XHJcblx0XHRcdHkgPSB5IC0gdi55O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBWZWMyKHgsIHkpO1xyXG5cdH1cclxuXHJcblx0LyoqIEBwYXJhbSB7VmVjMn0gdiAqL1xyXG5cdHBsdXModikge1xyXG5cdFx0cmV0dXJuIG5ldyBWZWMyKHRoaXMueCArIHYueCwgdGhpcy55ICsgdi55KTtcclxuXHR9XHJcblx0LyoqIEBwYXJhbSB7VmVjMn0gdiAqL1xyXG5cdG1pbnVzKHYpIHtcclxuXHRcdHJldHVybiBuZXcgVmVjMih0aGlzLnggLSB2LngsIHRoaXMueSAtIHYueSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICovXHJcblx0cGx1czIoeCwgeSkge1xyXG5cdFx0cmV0dXJuIG5ldyBWZWMyKHRoaXMueCArIHgsIHRoaXMueSArIHkpO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICovXHJcblx0bWludXMyKHgsIHkpIHtcclxuXHRcdHJldHVybiBuZXcgVmVjMih0aGlzLnggLSB4LCB0aGlzLnkgLSB5KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBmbG9hdFZhclxyXG5cdCAqL1xyXG5cdG11bChmbG9hdFZhcikge1xyXG5cdFx0cmV0dXJuIG5ldyBWZWMyKHRoaXMueCAqIGZsb2F0VmFyLCB0aGlzLnkgKiBmbG9hdFZhcik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gc1xyXG5cdCAqL1xyXG5cdHNjYWxlKHMpIHtcclxuXHRcdHJldHVybiBuZXcgVmVjMih0aGlzLnggKiBzLCB0aGlzLnkgKiBzKTtcclxuXHR9XHJcblxyXG5cdHJvdGF0ZShhbmcpIHtcclxuXHRcdGxldCB4ID0gTWF0aC5jb3MoYW5nKSAqIHRoaXMueCAtIE1hdGguc2luKGFuZykgKiB0aGlzLnk7XHJcblx0XHRsZXQgeSA9IE1hdGguc2luKGFuZykgKiB0aGlzLnggKyBNYXRoLmNvcyhhbmcpICogdGhpcy55O1xyXG5cdFx0cmV0dXJuIG5ldyBWZWMyKHgsIHkpO1xyXG5cdH1cclxuXHJcblx0bm9ybWFsaXplKCkge1xyXG5cdFx0bGV0IHIgPSBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55KTtcclxuXHRcdHJldHVybiBuZXcgVmVjMih0aGlzLnggLyByLCB0aGlzLnkgLyByKTtcclxuXHR9XHJcblxyXG5cdGxlbmd0aCgpIHtcclxuXHRcdHJldHVybiBNYXRoLnNxcnQoeCAqKiAyICsgeSAqKiAyKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7VmVjMn0gcDJcclxuXHQgKi9cclxuXHRkaXN0YW5jZV9zcShwMikge1xyXG5cdFx0bGV0IGx4ID0gdGhpcy54IC0gcDIueDtcclxuXHRcdGxldCBseSA9IHRoaXMueSAtIHAyLnk7XHJcblx0XHRyZXR1cm4gbHggKiBseCArIGx5ICogbHk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge1ZlYzJ9IHAyXHJcblx0ICovXHJcblx0ZGlzdGFuY2UocDIpIHtcclxuXHRcdGxldCBseCA9IHRoaXMueCAtIHAyLng7XHJcblx0XHRsZXQgbHkgPSB0aGlzLnkgLSBwMi55O1xyXG5cdFx0cmV0dXJuIE1hdGguc3FydChseCAqIGx4ICsgbHkgKiBseSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVjdGFuZ2xlIHtcclxuXHQvKipcclxuXHQgKiBSZWN0YW5nbGUobGVmdDogbnVtYmVyLCB0b3A6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpXHJcblx0ICogUmVjdGFuZ2xlKHBvc2l0aW9uOiBWZWMyLCBzaXplOiBWZWMyKVxyXG5cdCAqIFJlY3RhbmdsZShyZWN0OiBSZWN0YW5nbGUpXHJcblx0ICogUmVjdGFuZ2xlKCkgPT4gUmVjdGFuZ2xlKDAsIDAsIDAsIDApXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSA0KSB7XHJcblx0XHRcdC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG5cdFx0XHR0aGlzLmxlZnQgPSBhcmd1bWVudHNbMF07Ly94XHJcblx0XHRcdC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG5cdFx0XHR0aGlzLnRvcCA9IGFyZ3VtZW50c1sxXTsvL3lcclxuXHRcdFx0LyoqIEB0eXBlIHtudW1iZXJ9ICovXHJcblx0XHRcdHRoaXMud2lkdGggPSBhcmd1bWVudHNbMl07Ly93XHJcblx0XHRcdC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG5cdFx0XHR0aGlzLmhlaWdodCA9IGFyZ3VtZW50c1szXTsvL2hcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikge1xyXG5cdFx0XHQvKiogQHR5cGUge251bWJlcn0gKi9cclxuXHRcdFx0dGhpcy5sZWZ0ID0gYXJndW1lbnRzWzBdLng7XHJcblx0XHRcdC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xyXG5cdFx0XHR0aGlzLnRvcCA9IGFyZ3VtZW50c1swXS55O1xyXG5cdFx0XHQvKiogQHR5cGUge251bWJlcn0gKi9cclxuXHRcdFx0dGhpcy53aWR0aCA9IGFyZ3VtZW50c1sxXS54O1xyXG5cdFx0XHQvKiogQHR5cGUge251bWJlcn0gKi9cclxuXHRcdFx0dGhpcy5oZWlnaHQgPSBhcmd1bWVudHNbMV0ueTtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIFJlY3RhbmdsZSkge1xyXG5cdFx0XHRjb25zdCByID0gYXJndW1lbnRzWzBdO1xyXG5cdFx0XHQvKiogQHR5cGUge251bWJlcn0gKi9cclxuXHRcdFx0dGhpcy5sZWZ0ID0gci5sZWZ0O1xyXG5cdFx0XHQvKiogQHR5cGUge251bWJlcn0gKi9cclxuXHRcdFx0dGhpcy50b3AgPSByLnRvcDtcclxuXHRcdFx0LyoqIEB0eXBlIHtudW1iZXJ9ICovXHJcblx0XHRcdHRoaXMud2lkdGggPSByLndpZHRoO1xyXG5cdFx0XHQvKiogQHR5cGUge251bWJlcn0gKi9cclxuXHRcdFx0dGhpcy5oZWlnaHQgPSByLmhlaWdodDtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHQvKiogQHR5cGUge251bWJlcn0gKi9cclxuXHRcdFx0dGhpcy5sZWZ0ID0gMDtcclxuXHRcdFx0LyoqIEB0eXBlIHtudW1iZXJ9ICovXHJcblx0XHRcdHRoaXMudG9wID0gMDtcclxuXHRcdFx0LyoqIEB0eXBlIHtudW1iZXJ9ICovXHJcblx0XHRcdHRoaXMud2lkdGggPSAwO1xyXG5cdFx0XHQvKiogQHR5cGUge251bWJlcn0gKi9cclxuXHRcdFx0dGhpcy5oZWlnaHQgPSAwO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtSZWN0YW5nbGV9IG90aGVyXHJcblx0ICovXHJcblx0Y29weShvdGhlcikge1xyXG5cdFx0dGhpcy5sZWZ0ID0gb3RoZXIubGVmdDtcclxuXHRcdHRoaXMudG9wID0gb3RoZXIudG9wO1xyXG5cdFx0dGhpcy53aWR0aCA9IG90aGVyLndpZHRoO1xyXG5cdFx0dGhpcy5oZWlnaHQgPSBvdGhlci5oZWlnaHQ7XHJcblx0fVxyXG5cdFxyXG5cdGNsb25lKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcyk7XHJcblx0fVxyXG5cclxuXHRnZXQgeCgpIHsgcmV0dXJuIHRoaXMubGVmdDsgfVxyXG5cdHNldCB4KHZhbHVlKSB7IHRoaXMubGVmdCA9IHZhbHVlOyB9XHJcblxyXG5cdGdldCB5KCkgeyByZXR1cm4gdGhpcy50b3A7IH1cclxuXHRzZXQgeSh2YWx1ZSkgeyB0aGlzLnRvcCA9IHZhbHVlOyB9XHJcblxyXG5cdGdldCByaWdodCgpIHsgcmV0dXJuIHRoaXMubGVmdCArIHRoaXMud2lkdGg7IH1cclxuXHRzZXQgcmlnaHQodmFsdWUpIHsgdGhpcy53aWR0aCA9IHZhbHVlIC0gdGhpcy5sZWZ0OyB9XHJcblxyXG5cdGdldCBib3R0b20oKSB7IHJldHVybiB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0OyB9XHJcblx0c2V0IGJvdHRvbSh2YWx1ZSkgeyB0aGlzLmhlaWdodCA9IHZhbHVlIC0gdGhpcy50b3A7IH1cclxuXHJcblx0Z2V0IHNpemUoKSB7XHJcblx0XHRyZXR1cm4gbmV3IFZlYzIodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cdH1cclxuXHRzZXQgc2l6ZSh2YWx1ZSkge1xyXG5cdFx0dGhpcy53aWR0aCA9IHZhbHVlLndpZHRoIHx8IHZhbHVlLng7XHJcblx0XHR0aGlzLmhlaWdodCA9IHZhbHVlLmhlaWdodCB8fCB2YWx1ZS55O1xyXG5cdH1cclxuXHJcblx0Z2V0IGNlbnRlcigpIHtcclxuXHRcdHJldHVybiBuZXcgVmVjMih0aGlzLmxlZnQgKyB0aGlzLndpZHRoICogMC41LCB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0ICogMiAvIDMpO1xyXG5cdH1cclxuXHRzZXQgY2VudGVyKHZhbHVlKSB7XHJcblx0XHRsZXQgdzIgPSB0aGlzLndpZHRoICogMC41O1xyXG5cdFx0bGV0IGgyMyA9IHRoaXMuaGVpZ2h0ICogMiAvIDM7XHJcblxyXG5cdFx0dGhpcy5sZWZ0ID0gdmFsdWUueCAtIHcyO1xyXG5cdFx0dGhpcy50b3AgPSB2YWx1ZS55IC0gaDIzO1xyXG5cdH1cclxuXHRzZXRDZW50ZXIoY3gsIGN5KSB7XHJcblx0XHRsZXQgdzIgPSB0aGlzLndpZHRoICogMC41O1xyXG5cdFx0bGV0IGgyMyA9IHRoaXMuaGVpZ2h0ICogMiAvIDM7XHJcblxyXG5cdFx0dGhpcy5sZWZ0ID0gY3ggLSB3MjtcclxuXHRcdHRoaXMudG9wID0gY3kgLSBoMjM7XHJcblx0fVxyXG5cdFxyXG5cdGNvbGxpZGUob3RoZXIpIHtcclxuXHRcdHJldHVybiAodGhpcy5sZWZ0IDwgb3RoZXIucmlnaHQgJiYgdGhpcy5yaWdodCA+IG90aGVyLmxlZnQgJiYgdGhpcy50b3AgPCBvdGhlci5ib3R0b20gJiYgdGhpcy5ib3R0b20gPiBvdGhlci50b3ApO1xyXG5cdH1cclxuXHRcclxuXHRjb2xsaWRlNGYobGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tKSB7XHJcblx0XHRyZXR1cm4gKHRoaXMubGVmdCA8IHJpZ2h0ICYmIHRoaXMucmlnaHQgPiBsZWZ0ICYmIHRoaXMudG9wIDwgYm90dG9tICYmIHRoaXMuYm90dG9tID4gdG9wKTtcclxuXHR9XHJcblx0Y29sbGlkZTRmMih4LCB5LCBod2lkdGgsIGhoZWlnaHQpIHtcclxuXHRcdGNvbnN0IGxlZnQgPSB4IC0gaHdpZHRoO1xyXG5cdFx0Y29uc3QgdG9wID0geSAtIGhoZWlnaHQ7XHJcblx0XHRjb25zdCByaWdodCA9IHggKyBod2lkdGg7XHJcblx0XHRjb25zdCBib3R0b20gPSB5ICsgaGhlaWdodDtcclxuXHRcdHJldHVybiAodGhpcy5sZWZ0IDwgcmlnaHQgJiYgdGhpcy5yaWdodCA+IGxlZnQgJiYgdGhpcy50b3AgPCBib3R0b20gJiYgdGhpcy5ib3R0b20gPiB0b3ApO1xyXG5cdH1cclxuXHRjb2xsaWRlMmYyeCh4LCBod2lkdGgpIHtcclxuXHRcdGNvbnN0IGxlZnQgPSB4IC0gaHdpZHRoO1xyXG5cdFx0Y29uc3QgcmlnaHQgPSB4ICsgaHdpZHRoO1xyXG5cdFx0cmV0dXJuICh0aGlzLmxlZnQgPCByaWdodCAmJiB0aGlzLnJpZ2h0ID4gbGVmdCk7XHJcblx0fVxyXG5cdGNvbGxpZGUyZjJ5KHksIGhoZWlnaHQpIHtcclxuXHRcdGNvbnN0IHRvcCA9IHkgLSBoaGVpZ2h0O1xyXG5cdFx0Y29uc3QgYm90dG9tID0geSArIGhoZWlnaHQ7XHJcblx0XHRyZXR1cm4gKHRoaXMudG9wIDwgYm90dG9tICYmIHRoaXMuYm90dG9tID4gdG9wKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHRvcFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSByaWdodFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b21cclxuXHQgKi9cclxuXHRwYXJzZShsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20pIHtcclxuXHRcdHRoaXMubGVmdCA9IGxlZnQ7XHJcblx0XHR0aGlzLnRvcCA9IHRvcDtcclxuXHRcdHRoaXMucmlnaHQgPSByaWdodDtcclxuXHRcdHRoaXMuYm90dG9tID0gYm90dG9tO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGxlZnRcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gdG9wXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBwYXJzZShsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20pIHtcclxuXHRcdHJldHVybiBuZXcgUmVjdGFuZ2xlKGxlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0LCBib3R0b20gLSB0b3ApO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJhbmRvbWl6ZXIge1xyXG5cdHN0YXRpYyBuZXh0SW50KHIpIHtcclxuXHRcdHJldHVybiBNYXRoLnRydW5jKE1hdGgucmFuZG9tKCkgKiAxMDAgJSByKTtcclxuXHR9XHJcblx0c3RhdGljIHJhbmRJbnQobWluLCBtYXgpIHtcclxuXHRcdHJldHVybiBNYXRoLnRydW5jKG1pbiArIE1hdGgucmFuZG9tKCkgKiAxMDAgJSAobWF4IC0gbWluICsgMSkpO1xyXG5cdH1cclxuXHRzdGF0aWMgbmV4dEJvb2xlYW4oKSB7XHJcblx0XHRyZXR1cm4gIShNYXRoLnRydW5jKE1hdGgucmFuZG9tKCkgKiAxMDApICYgMSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XHJcblx0cmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4odmFsdWUsIG1heCkpO1xyXG59XHJcblxyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///333\n')},335:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/gl-matrix/src/gl-matrix.js + 8 modules\nvar gl_matrix = __webpack_require__(419);\n\n// EXTERNAL MODULE: ./src/game/math.js\nvar math = __webpack_require__(333);\n\n// EXTERNAL MODULE: ./src/game/IRenderer.js\nvar IRenderer = __webpack_require__(332);\n\n// CONCATENATED MODULE: ./src/game/Canvas2DRenderer.js\n\ufeff\r\n\r\n\r\n\r\n\r\n//import WebGL2D from "./WebGL2D/WebGL2D.js";\r\n//window.$WebGL2D = WebGL2D;\r\n\r\nwindow._experimental_particle = true;\r\n\r\nclass Canvas2DRenderer_MyMatrix2D {\r\n\tconstructor() {\r\n\t\tthis.$temp_vec2 = gl_matrix["d" /* vec2 */].create();\r\n\r\n\t\t/** @type {mat2d} */\r\n\t\tthis.$transform = gl_matrix["a" /* mat2d */].create();\r\n\t}\r\n\tloadIdentity() {\r\n\t\tgl_matrix["a" /* mat2d */].identity(this.$transform);\r\n\t}\r\n\t/**\r\n\t * @param {number} m11\r\n\t * @param {number} m12\r\n\t * @param {number} m21\r\n\t * @param {number} m22\r\n\t * @param {number} dx\r\n\t * @param {number} dy\r\n\t */\r\n\tsetTransform(m11, m12, m21, m22, dx, dy) {\r\n\t\tthis.$transform[0] = m11;\r\n\t\tthis.$transform[1] = m12;\r\n\t\tthis.$transform[2] = m21;\r\n\t\tthis.$transform[3] = m22;\r\n\t\tthis.$transform[4] = dx;\r\n\t\tthis.$transform[5] = dy;\r\n\t}\r\n\t/**\r\n\t * @param {Canvas2DContextAttributes} ctx\r\n\t */\r\n\tapplyTransform(ctx) {\r\n\t\tconst m11 = this.$transform[0], m12 = this.$transform[1],\r\n\t\t\tm21 = this.$transform[2], m22 = this.$transform[3],\r\n\t\t\tdx = this.$transform[4], dy = this.$transform[5];\r\n\t\tctx.setTransform(m11, m12, m21, m22, dx, dy);\r\n\t}\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\ttranslate(x, y) {\r\n\t\tthis.$temp_vec2[0] = x;\r\n\t\tthis.$temp_vec2[1] = y;\r\n\t\tgl_matrix["a" /* mat2d */].translate(this.$transform, this.$transform, this.$temp_vec2);\r\n\t}\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\tscale(x, y) {\r\n\t\tthis.$temp_vec2[0] = x;\r\n\t\tthis.$temp_vec2[1] = y;\r\n\t\tgl_matrix["a" /* mat2d */].scale(this.$transform, this.$transform, this.$temp_vec2);\r\n\t}\r\n\t/**\r\n\t * @param {number} r - rad\r\n\t */\r\n\trotate(r) {\r\n\t\tgl_matrix["a" /* mat2d */].rotate(this.$transform, this.$transform, a);\r\n\t}\r\n\r\n\ttoMat4() {\r\n\t\tgl_matrix["b" /* mat4 */].fromScaling\r\n\t}\r\n}\r\n\r\nwindow.$mat2d = gl_matrix["a" /* mat2d */];\r\nwindow.$mat4 = gl_matrix["b" /* mat4 */];\r\nwindow.$quat = gl_matrix["c" /* quat */];\r\n\r\n/**\r\n * @implements {IRenderer}\r\n */\r\nclass Canvas2DRenderer_Engine extends IRenderer["IRenderer"] {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\tthis.ctx = null;\r\n\r\n\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\tthis._ctx2 = null;\r\n\t\t/** @type {HTMLCanvasElement} */\r\n\t\tthis._canvas2 = null;\r\n\r\n\t\t(function (that) {\r\n\t\t\tthat._GraphType = class Graph extends IRenderer["IGraph"] {\r\n\t\t\t\tget _engine() {\r\n\t\t\t\t\treturn that;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})(this);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {string} id\r\n\t */\r\n\tinit(id) {\r\n\t\tlet canvas = document.getElementById(id);\r\n\t\tlet canvas2 = this._canvas2 = document.getElementById(id + "2");\r\n\r\n\t\tthis.ctx = canvas.getContext("2d", { alpha: true });//new WebGL2D(canvas);//\r\n\t\tthis._ctx2 = canvas2.getContext("2d", { alpha: true });\r\n\r\n\t\tthis.ctx.imageSmoothingEnabled = false;\r\n\t\tthis._ctx2.imageSmoothingEnabled = true;\r\n\r\n\t\t_resize_canvas(canvas, window.innerWidth, window.innerHeight);\r\n\t\t_resize_canvas(canvas2, window.innerWidth, window.innerHeight);\r\n\r\n\t\twindow.onresize = e => {\r\n\t\t\tconst width = window.innerWidth;\r\n\t\t\tconst height = window.innerHeight;\r\n\r\n\t\t\t_resize_canvas(canvas, width, height);\r\n\t\t\t_resize_canvas(canvas2, width, height);\r\n\r\n\t\t\tdocument.getElementById("screen_width").innerHTML = width;\r\n\t\t\tdocument.getElementById("screen_height").innerHTML = height;\r\n\r\n\t\t\tthis.screen_size.x = width;\r\n\t\t\tthis.screen_size.y = height;\r\n\t\t}\r\n\t\twindow.onresize();\r\n\r\n\t\tfunction _resize_canvas(canvas, width, height) {\r\n\t\t\tcanvas.width = width;\r\n\t\t\tcanvas.height = height;\r\n\t\t}\r\n\r\n\t\tthis._graph_rect = new this.Graph();\r\n\t\tthis._graph_rect._url = $get.imageUrl("/1x1");\r\n\t}\r\n\r\n\t/** @type {IGraph} */\r\n\tget Graph() {\r\n\t\treturn this._GraphType;\r\n\t}\r\n\r\n\t/** @type {HTMLCanvasElement} */\r\n\tget _canvas() {\r\n\t\treturn this.ctx.canvas;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {HTMLImageElement} image\r\n\t * @param {IGraph} graph\r\n\t * @param {HTMLImageElement} texture\r\n\t */\r\n\t_handleImageLoaded(image, graph) {\r\n\t\treturn image;\r\n\t}\r\n\r\n\t/**\r\n\t * swap Canvas and Canvas2\r\n\t * if (imageSmoothingEnabled) this._ctx2.imageSmoothingEnabled = true;\r\n\t * @param {boolean} imageSmoothingEnabled\r\n\t */\r\n\t$swapCanvas(imageSmoothingEnabled) {\r\n\t\tif (imageSmoothingEnabled) {\r\n\t\t\tthis.ctx.imageSmoothingEnabled = false;\r\n\t\t\tthis._ctx2.imageSmoothingEnabled = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.ctx.imageSmoothingEnabled = false;\r\n\t\t\tthis._ctx2.imageSmoothingEnabled = false;\r\n\t\t}\r\n\r\n\t\t//swap\r\n\t\tconst ctx2 = this._ctx2;\r\n\t\tthis._ctx2 = this.ctx;\r\n\t\tthis.ctx = ctx2;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} m11\r\n\t * @param {number} m12\r\n\t * @param {number} m21\r\n\t * @param {number} m22\r\n\t * @param {number} dx\r\n\t * @param {number} dy\r\n\t */\r\n\tsetTransform(m11, m12, m21, m22, dx, dy) {\r\n\t\tthis.ctx.setTransform(m11, m12, m21, m22, dx, dy);\r\n\t}\r\n\r\n\tloadIdentity() {\r\n\t\tthis.ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t}\r\n\tpushMatrix() {\r\n\t\tthis.ctx.save();\r\n\t}\r\n\tpopMatrix() {\r\n\t\tthis.ctx.restore();\r\n\t}\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\ttranslate(x, y) {\r\n\t\tthis.ctx.translate(x, y);\r\n\t}\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\tscale(x, y) {\r\n\t\tthis.ctx.scale(x, y);\r\n\t}\r\n\t/**\r\n\t * @param {number} r - rad\r\n\t */\r\n\trotate(r) {\r\n\t\tthis.ctx.rotate(r);\r\n\t}\r\n\r\n\t///** @type {number[]} */\r\n\t//get color() {\r\n\t//\treturn this._color;\r\n\t//}\r\n\r\n\t/** @type {number[]} - 4fv */\r\n\tset color(f4v) {\r\n\t\t//f4v = [...f4v];\r\n\r\n\t\tconst red = Math.trunc(f4v[0] * 255);\r\n\t\tconst green = Math.trunc(f4v[1] * 255);\r\n\t\tconst blue = Math.trunc(f4v[2] * 255);\r\n\t\tconst alpha = f4v[3].toFixed(3);\r\n\r\n\t\tthis.ctx.fillStyle = `rgba(${red},${green},${blue},${alpha})`;\r\n\t\tthis.ctx.strokeStyle = this.ctx.fillStyle;\r\n\r\n\t\t//f4v.r = red;\r\n\t\t//f4v.g = green;\r\n\t\t//f4v.b = blue;\r\n\t\t//f4v.a = alpha;\r\n\t\t//this._color = f4v;\r\n\t}\r\n\r\n\tget globalAlpha() {\r\n\t\treturn this._globalAlpha;//this.ctx.globalAlpha;\r\n\t}\r\n\tset globalAlpha(value) {\r\n\t\tif (false) {}\r\n\t\tif (this._globalAlpha != value) {\r\n\t\t\tthis._globalAlpha = value;\r\n\t\t\tthis.ctx.globalAlpha = value;\r\n\t\t}\r\n\t}\r\n\tpushGlobalAlpha() {\r\n\t\tthis._globalAlphaStack.push(this.ctx.globalAlpha);\r\n\t}\r\n\tpopGlobalAlpha(value) {\r\n\t\tthis.ctx.globalAlpha = this._globalAlphaStack.pop();\r\n\t}\r\n\r\n\tbeginScene() {\r\n\t\t// nothing\r\n\t}\r\n\r\n\tendScene() {\r\n\t\t// nothing\r\n\t}\r\n\r\n\tclearDrawScreen() {\r\n\t\tconst c = this.ctx.canvas;\r\n\t\tthis.ctx.clearRect(0, 0, c.width, c.height);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} w\r\n\t * @param {number} h\r\n\t */\r\n\tdrawRect(x, y, w, h) {\r\n\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\tlet ctx = this.ctx;\r\n\r\n\t\tif (arguments.length == 4) {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.fillRect(x, y, w, h);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdebugger;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param {IGraph} graph\r\n\t */\r\n\tdrawGraph(graph) {\r\n\t\tif (graph.isLoaded()) {\r\n\t\t\tthis.ctx.drawImage(graph.texture, 0, 0);\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @param {IGraph} graph\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} z\r\n\t */\r\n\tdrawGraph2(graph, x, y, z) {\r\n\t\tif (graph.isLoaded()) {\r\n\t\t\tthis.ctx.drawImage(graph.texture, x, y);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param {IGraph} graph\r\n\t * @param {number} sx - The x coordinate where to start clipping\r\n\t * @param {number} sy - The y coordinate where to start clipping\r\n\t * @param {number} swidth - The width of the clipped image\r\n\t * @param {number} sheight - The height of the clipped image\r\n\t * @param {number} x - The x coordinate where to place the image on the canvas\r\n\t * @param {number} y - The y coordinate where to place the image on the canvas\r\n\t * @param {number} width - The width of the image to use (stretch or reduce the image)\r\n\t * @param {number} height - The height of the image to use (stretch or reduce the image)\r\n\t */\r\n\t_drawImage(graph, sx, sy, swidth, sheight, x, y, width, height) {\r\n\t\tif (graph.isLoaded()) {\r\n\t\t\tthis.ctx.drawImage(graph.texture, sx, sy, swidth, sheight, x, y, width, height);\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\t/**\r\n\t * https://stackoverflow.com/a/42856420\r\n\t */\r\n\t__drawMirrorImage(ctx, image, x = 0, y = 0, horizontal = false, vertical = false){\r\n\t\tctx.save();  // save the current canvas state\r\n\t\tctx.setTransform(\r\n\t\t\thorizontal ? -1 : 1, 0, // set the direction of x axis\r\n\t\t\t0, vertical ? -1 : 1,   // set the direction of y axis\r\n\t\t\tx + horizontal ? image.width : 0, // set the x origin\r\n\t\t\ty + vertical ? image.height : 0   // set the y origin\r\n\t\t\t);\r\n\t\tctx.drawImage(image,0,0);\r\n\t\tctx.restore(); // restore the state as it was when this function was called\r\n\t}\r\n\t\r\n\t/**\r\n\t * whitout save/restore canvas\r\n\t * @param {IGraph} graph\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} angle\r\n\t * @param {boolean} flip\r\n\t */\r\n\t_drawRotaGraph(graph, x, y, angle, flip) {\r\n\t\t// this.ctx.lineWidth = 1;\r\n\t\t\t\r\n\t\t// this.ctx.beginPath();\r\n\t\t// this.ctx.moveTo(0, 0);\r\n\t\t// this.ctx.lineTo(32, 0);\r\n\t\t// this.ctx.strokeStyle = "darkred";\r\n\t\t// this.ctx.stroke();\r\n\t\t\r\n\t\t// this.ctx.beginPath();\r\n\t\t// this.ctx.moveTo(0, 0);\r\n\t\t// this.ctx.lineTo(0, 32);\r\n\t\t// this.ctx.strokeStyle = "darkgreen";\r\n\t\t// this.ctx.stroke();\r\n\t\t\r\n\t\t// this.ctx.beginPath();\r\n\t\t// this.ctx.rect(0, 0, 32, 32);\r\n\t\t// this.ctx.fillStyle = "rgba(66,66,66,0.5)";\r\n\t\t// this.ctx.fill();\r\n\t\t\r\n\t\t//if (flip || angle > 0.001 || angle < -0.001) {\r\n\t\t\tif (1) {\r\n\t\t\t\tthis.translate(x, y);//zorder ? graph.z\r\n\r\n\t\t\t\tthis.rotate(angle);\r\n\r\n\t\t\t\tthis.scale(flip ? -1 : 1, 1);\r\n\r\n\t\t\t\tthis.translate(-graph.x, -graph.y);//reset rotation center\r\n\r\n\t\t\t\tthis.drawGraph(graph);\r\n\t\t\t}\r\n\t\t\telse {}\r\n\t\t\t// {\r\n\t\t\t\t// this.ctx.beginPath();\r\n\t\t\t\t// this.ctx.moveTo(cx, cy);\r\n\t\t\t\t// this.ctx.lineTo(cx + 32, cy);\r\n\t\t\t\t// this.ctx.strokeStyle = "red";\r\n\t\t\t\t// this.ctx.stroke();\r\n\t\t\t\t\r\n\t\t\t\t// this.ctx.beginPath();\r\n\t\t\t\t// this.ctx.moveTo(cx, cy);\r\n\t\t\t\t// this.ctx.lineTo(cx, cy + 32);\r\n\t\t\t\t// this.ctx.strokeStyle = "#0f0";\r\n\t\t\t\t// this.ctx.stroke();\r\n\t\t\t// }\r\n\t\t//}\r\n\t\t//else {\r\n\t\t//\tthis.drawGraph2(graph, x - graph.x, y - graph.y);\r\n\t\t//}\r\n\t}\r\n\t/**\r\n\t * whit save/restore canvas\r\n\t * @param {IGraph} graph\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} angle\r\n\t * @param {boolean} flip\r\n\t */\r\n\tdrawRotaGraph(graph, x, y, angle, flip) {\r\n\t\t//if (flip || angle > 0.001 || angle < -0.001) {\r\n\t\t\tthis.pushMatrix();\r\n\t\t\tthis._drawRotaGraph(graph, x, y, angle, flip);\r\n\t\t\tthis.popMatrix();\r\n\t\t//}\r\n\t\t//else {\r\n\t\t//\tthis.drawGraph2(graph, x - graph.x, y - graph.y);\r\n\t\t//}\r\n\t}\r\n\t/**\r\n\t * whitout save/restore canvas\r\n\t * @param {IGraph} graph\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} angle\r\n\t * @param {Vec2} center\r\n\t * @param {Rectangle} clip\r\n\t * @param {boolean} flip\r\n\t */\r\n\t_drawRotaClipGraph(graph, x, y, angle, center, clip, flip) {\r\n\t\tconst orix = center.x;\r\n\t\tconst oriy = center.y;\r\n\r\n\t\tconst px = (x - (flip ? -orix + clip.width : orix));\r\n\t\tconst py = (y - oriy);\r\n\r\n\t\tconst cx = clip.width * 0.5;\r\n\t\tconst cy = clip.height * 0.5;\r\n\r\n\t\tthis.translate(px, py);//zorder ? graph.z\r\n\r\n\t\tthis.translate(cx, cy);// (rotationCenter)\r\n\t\tthis.rotate(angle);\r\n\r\n\t\tthis.scale(flip ? -1 : 1, 1);\r\n\r\n\t\tthis.translate(-cx, -cy);//reset rotation center\r\n\r\n\t\tthis._drawImage(graph, clip.x, clip.y, clip.width, clip.height, 0, 0, clip.width, clip.height);\r\n\t}\r\n\t/**\r\n\t * whit save/restore canvas\r\n\t * @param {IGraph} graph\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} angle\r\n\t * @param {Vec2} center\r\n\t * @param {Rectangle} clip\r\n\t * @param {boolean} flip\r\n\t */\r\n\tdrawRotaClipGraph(graph, x, y, angle, center, clip, flip) {\r\n\t\tthis.pushMatrix();\r\n\t\tthis._drawRotaClipGraph(graph, x, y, angle, center, clip, flip);\r\n\t\tthis.popMatrix();\r\n\t}\r\n\t\r\n\t/**\r\n\t * @param {IGraph} graph\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {ColorRGB} color\r\n\t */\r\n\tdrawColoredGraph(graph, x, y, color) {//destination\r\n\t\tif (graph.isLoaded()) {\r\n\t\t\tif (_experimental_particle) {\r\n\t\t\t\tthis.ctx.filter = color.toFilter();\r\n\t\t\t\tthis.ctx.drawImage(graph.texture, x - graph.x, y - graph.y);\r\n\t\t\t\tthis.ctx.filter = "none";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconst _ctx = this._ctx2;\r\n\r\n\t\t\t\t_ctx.globalCompositeOperation = "copy";\r\n\t\t\t\t_ctx.drawImage(graph.texture, 0, 0);\r\n\r\n\t\t\t\t_ctx.globalCompositeOperation = "darken";\r\n\t\t\t\t_ctx.fillStyle = color.toString();\r\n\t\t\t\t_ctx.beginPath();\r\n\t\t\t\t//_ctx.arc(graph.width / 2, graph.width / 2, graph.width / 2, 0, Math.PI * 2);\r\n\t\t\t\t_ctx.rect(0, 0, graph.width, graph.width);\r\n\t\t\t\t_ctx.fill();\r\n\r\n\t\t\t\t_ctx.globalCompositeOperation = "destination-atop";\r\n\t\t\t\t_ctx.drawImage(graph.texture, 0, 0);\r\n\r\n\t\t\t\tthis.ctx.drawImage(this._canvas2, x - graph.x, y - graph.y);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * @param {IGraph} graph\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} scaleX\r\n\t * @param {number} scaleY\r\n\t * @param {ColorRGB} color\r\n\t */\r\n\tdrawColoredGraph2(graph, x, y, scaleX, scaleY, color) {//destination\r\n\t\tif (graph.isLoaded()) {\r\n\t\t\tconst width = graph.width;\r\n\t\t\tconst height = graph.height;\r\n\t\t\tconst swidth = width * scaleX;\r\n\t\t\tconst sheight = height * scaleY;\r\n\r\n\t\t\tif (_experimental_particle) {\r\n\t\t\t\tthis.ctx.filter = color.toFilter();\r\n\t\t\t\tthis.ctx.drawImage(graph.texture, 0, 0, width, height, x - graph.x, y - graph.y, swidth, sheight);\r\n\t\t\t\tthis.ctx.filter = "none";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconst _ctx = this._ctx2;\r\n\r\n\t\t\t\t_ctx.globalCompositeOperation = "copy";\r\n\t\t\t\t_ctx.drawImage(graph.texture, 0, 0, swidth, swidth);\r\n\r\n\t\t\t\t_ctx.globalCompositeOperation = "darken";\r\n\t\t\t\t_ctx.fillStyle = color.toString();\r\n\t\t\t\t_ctx.beginPath();\r\n\t\t\t\t//_ctx.arc(graph.width / 2, graph.height / 2, graph.width / 2, 0, Math.PI * 2);\r\n\t\t\t\t_ctx.rect(0, 0, swidth, swidth);\r\n\t\t\t\t_ctx.fill();\r\n\r\n\t\t\t\t_ctx.globalCompositeOperation = "destination-atop";\r\n\t\t\t\t_ctx.drawImage(graph.texture, 0, 0, swidth, swidth);\r\n\r\n\t\t\t\tthis.ctx.drawImage(this._canvas2, 0, 0, swidth, sheight, x - graph.x, y - graph.y, swidth, sheight);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\n// CONCATENATED MODULE: ./src/game/Engine.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "engine", function() { return engine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Graph", function() { return Graph; });\n\ufeff\r\n\r\n//import { Engine } from "./WebGLRenderer.js";\r\n\r\nconst engine = new Canvas2DRenderer_Engine();\r\n\r\nwindow.$engine = engine;\r\n\r\n/**\r\n * @type {IGraph}\r\n */\r\nconst Graph = engine.Graph;\r\n\r\n\r\nengine.init("glcanvas");\r\n\r\nif (SSAnim) {\r\n\tif (engine.ctx) {\r\n\t\tSSAnim.SetRenderingContext(engine.ctx);\r\n\t}\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvQ2FudmFzMkRSZW5kZXJlci5qcz81OGIwIiwid2VicGFjazovLy8uL3NyYy9nYW1lL0VuZ2luZS5qcz83MjdiIl0sInNvdXJjZXNDb250ZW50IjpbIu+7v1xyXG5pbXBvcnQgeyBtYXQyZCwgdmVjMiwgbWF0NCwgcXVhdCB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmltcG9ydCB7IFZlYzIgfSBmcm9tICcuL21hdGguanMnO1xyXG5pbXBvcnQgeyBJR3JhcGgsIElSZW5kZXJlciwgQ29sb3JSR0IgfSBmcm9tICcuL0lSZW5kZXJlci5qcyc7XHJcblxyXG4vL2ltcG9ydCBXZWJHTDJEIGZyb20gXCIuL1dlYkdMMkQvV2ViR0wyRC5qc1wiO1xyXG4vL3dpbmRvdy4kV2ViR0wyRCA9IFdlYkdMMkQ7XHJcblxyXG53aW5kb3cuX2V4cGVyaW1lbnRhbF9wYXJ0aWNsZSA9IHRydWU7XHJcblxyXG5jbGFzcyBNeU1hdHJpeDJEIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuJHRlbXBfdmVjMiA9IHZlYzIuY3JlYXRlKCk7XHJcblxyXG5cdFx0LyoqIEB0eXBlIHttYXQyZH0gKi9cclxuXHRcdHRoaXMuJHRyYW5zZm9ybSA9IG1hdDJkLmNyZWF0ZSgpO1xyXG5cdH1cclxuXHRsb2FkSWRlbnRpdHkoKSB7XHJcblx0XHRtYXQyZC5pZGVudGl0eSh0aGlzLiR0cmFuc2Zvcm0pO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gbTExXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IG0xMlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBtMjFcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gbTIyXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGR4XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGR5XHJcblx0ICovXHJcblx0c2V0VHJhbnNmb3JtKG0xMSwgbTEyLCBtMjEsIG0yMiwgZHgsIGR5KSB7XHJcblx0XHR0aGlzLiR0cmFuc2Zvcm1bMF0gPSBtMTE7XHJcblx0XHR0aGlzLiR0cmFuc2Zvcm1bMV0gPSBtMTI7XHJcblx0XHR0aGlzLiR0cmFuc2Zvcm1bMl0gPSBtMjE7XHJcblx0XHR0aGlzLiR0cmFuc2Zvcm1bM10gPSBtMjI7XHJcblx0XHR0aGlzLiR0cmFuc2Zvcm1bNF0gPSBkeDtcclxuXHRcdHRoaXMuJHRyYW5zZm9ybVs1XSA9IGR5O1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge0NhbnZhczJEQ29udGV4dEF0dHJpYnV0ZXN9IGN0eFxyXG5cdCAqL1xyXG5cdGFwcGx5VHJhbnNmb3JtKGN0eCkge1xyXG5cdFx0Y29uc3QgbTExID0gdGhpcy4kdHJhbnNmb3JtWzBdLCBtMTIgPSB0aGlzLiR0cmFuc2Zvcm1bMV0sXHJcblx0XHRcdG0yMSA9IHRoaXMuJHRyYW5zZm9ybVsyXSwgbTIyID0gdGhpcy4kdHJhbnNmb3JtWzNdLFxyXG5cdFx0XHRkeCA9IHRoaXMuJHRyYW5zZm9ybVs0XSwgZHkgPSB0aGlzLiR0cmFuc2Zvcm1bNV07XHJcblx0XHRjdHguc2V0VHJhbnNmb3JtKG0xMSwgbTEyLCBtMjEsIG0yMiwgZHgsIGR5KTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqL1xyXG5cdHRyYW5zbGF0ZSh4LCB5KSB7XHJcblx0XHR0aGlzLiR0ZW1wX3ZlYzJbMF0gPSB4O1xyXG5cdFx0dGhpcy4kdGVtcF92ZWMyWzFdID0geTtcclxuXHRcdG1hdDJkLnRyYW5zbGF0ZSh0aGlzLiR0cmFuc2Zvcm0sIHRoaXMuJHRyYW5zZm9ybSwgdGhpcy4kdGVtcF92ZWMyKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqL1xyXG5cdHNjYWxlKHgsIHkpIHtcclxuXHRcdHRoaXMuJHRlbXBfdmVjMlswXSA9IHg7XHJcblx0XHR0aGlzLiR0ZW1wX3ZlYzJbMV0gPSB5O1xyXG5cdFx0bWF0MmQuc2NhbGUodGhpcy4kdHJhbnNmb3JtLCB0aGlzLiR0cmFuc2Zvcm0sIHRoaXMuJHRlbXBfdmVjMik7XHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSByIC0gcmFkXHJcblx0ICovXHJcblx0cm90YXRlKHIpIHtcclxuXHRcdG1hdDJkLnJvdGF0ZSh0aGlzLiR0cmFuc2Zvcm0sIHRoaXMuJHRyYW5zZm9ybSwgYSk7XHJcblx0fVxyXG5cclxuXHR0b01hdDQoKSB7XHJcblx0XHRtYXQ0LmZyb21TY2FsaW5nXHJcblx0fVxyXG59XHJcblxyXG53aW5kb3cuJG1hdDJkID0gbWF0MmQ7XHJcbndpbmRvdy4kbWF0NCA9IG1hdDQ7XHJcbndpbmRvdy4kcXVhdCA9IHF1YXQ7XHJcblxyXG4vKipcclxuICogQGltcGxlbWVudHMge0lSZW5kZXJlcn1cclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbmdpbmUgZXh0ZW5kcyBJUmVuZGVyZXIge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHJcblx0XHQvKiogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gKi9cclxuXHRcdHRoaXMuY3R4ID0gbnVsbDtcclxuXHJcblx0XHQvKiogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gKi9cclxuXHRcdHRoaXMuX2N0eDIgPSBudWxsO1xyXG5cdFx0LyoqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH0gKi9cclxuXHRcdHRoaXMuX2NhbnZhczIgPSBudWxsO1xyXG5cclxuXHRcdChmdW5jdGlvbiAodGhhdCkge1xyXG5cdFx0XHR0aGF0Ll9HcmFwaFR5cGUgPSBjbGFzcyBHcmFwaCBleHRlbmRzIElHcmFwaCB7XHJcblx0XHRcdFx0Z2V0IF9lbmdpbmUoKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdGhhdDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pKHRoaXMpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGlkXHJcblx0ICovXHJcblx0aW5pdChpZCkge1xyXG5cdFx0bGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHRcdGxldCBjYW52YXMyID0gdGhpcy5fY2FudmFzMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkICsgXCIyXCIpO1xyXG5cclxuXHRcdHRoaXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiLCB7IGFscGhhOiB0cnVlIH0pOy8vbmV3IFdlYkdMMkQoY2FudmFzKTsvL1xyXG5cdFx0dGhpcy5fY3R4MiA9IGNhbnZhczIuZ2V0Q29udGV4dChcIjJkXCIsIHsgYWxwaGE6IHRydWUgfSk7XHJcblxyXG5cdFx0dGhpcy5jdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcblx0XHR0aGlzLl9jdHgyLmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XHJcblxyXG5cdFx0X3Jlc2l6ZV9jYW52YXMoY2FudmFzLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuXHRcdF9yZXNpemVfY2FudmFzKGNhbnZhczIsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG5cclxuXHRcdHdpbmRvdy5vbnJlc2l6ZSA9IGUgPT4ge1xyXG5cdFx0XHRjb25zdCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG5cdFx0XHRjb25zdCBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcblxyXG5cdFx0XHRfcmVzaXplX2NhbnZhcyhjYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xyXG5cdFx0XHRfcmVzaXplX2NhbnZhcyhjYW52YXMyLCB3aWR0aCwgaGVpZ2h0KTtcclxuXHJcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NyZWVuX3dpZHRoXCIpLmlubmVySFRNTCA9IHdpZHRoO1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjcmVlbl9oZWlnaHRcIikuaW5uZXJIVE1MID0gaGVpZ2h0O1xyXG5cclxuXHRcdFx0dGhpcy5zY3JlZW5fc2l6ZS54ID0gd2lkdGg7XHJcblx0XHRcdHRoaXMuc2NyZWVuX3NpemUueSA9IGhlaWdodDtcclxuXHRcdH1cclxuXHRcdHdpbmRvdy5vbnJlc2l6ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIF9yZXNpemVfY2FudmFzKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xyXG5cdFx0XHRjYW52YXMud2lkdGggPSB3aWR0aDtcclxuXHRcdFx0Y2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9ncmFwaF9yZWN0ID0gbmV3IHRoaXMuR3JhcGgoKTtcclxuXHRcdHRoaXMuX2dyYXBoX3JlY3QuX3VybCA9ICRnZXQuaW1hZ2VVcmwoXCIvMXgxXCIpO1xyXG5cdH1cclxuXHJcblx0LyoqIEB0eXBlIHtJR3JhcGh9ICovXHJcblx0Z2V0IEdyYXBoKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX0dyYXBoVHlwZTtcclxuXHR9XHJcblxyXG5cdC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9ICovXHJcblx0Z2V0IF9jYW52YXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jdHguY2FudmFzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fSBpbWFnZVxyXG5cdCAqIEBwYXJhbSB7SUdyYXBofSBncmFwaFxyXG5cdCAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gdGV4dHVyZVxyXG5cdCAqL1xyXG5cdF9oYW5kbGVJbWFnZUxvYWRlZChpbWFnZSwgZ3JhcGgpIHtcclxuXHRcdHJldHVybiBpbWFnZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIHN3YXAgQ2FudmFzIGFuZCBDYW52YXMyXHJcblx0ICogaWYgKGltYWdlU21vb3RoaW5nRW5hYmxlZCkgdGhpcy5fY3R4Mi5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlO1xyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gaW1hZ2VTbW9vdGhpbmdFbmFibGVkXHJcblx0ICovXHJcblx0JHN3YXBDYW52YXMoaW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XHJcblx0XHRpZiAoaW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XHJcblx0XHRcdHRoaXMuY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLl9jdHgyLmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0dGhpcy5jdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuX2N0eDIuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9zd2FwXHJcblx0XHRjb25zdCBjdHgyID0gdGhpcy5fY3R4MjtcclxuXHRcdHRoaXMuX2N0eDIgPSB0aGlzLmN0eDtcclxuXHRcdHRoaXMuY3R4ID0gY3R4MjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBtMTFcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gbTEyXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IG0yMVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBtMjJcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHlcclxuXHQgKi9cclxuXHRzZXRUcmFuc2Zvcm0obTExLCBtMTIsIG0yMSwgbTIyLCBkeCwgZHkpIHtcclxuXHRcdHRoaXMuY3R4LnNldFRyYW5zZm9ybShtMTEsIG0xMiwgbTIxLCBtMjIsIGR4LCBkeSk7XHJcblx0fVxyXG5cclxuXHRsb2FkSWRlbnRpdHkoKSB7XHJcblx0XHR0aGlzLmN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XHJcblx0fVxyXG5cdHB1c2hNYXRyaXgoKSB7XHJcblx0XHR0aGlzLmN0eC5zYXZlKCk7XHJcblx0fVxyXG5cdHBvcE1hdHJpeCgpIHtcclxuXHRcdHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqL1xyXG5cdHRyYW5zbGF0ZSh4LCB5KSB7XHJcblx0XHR0aGlzLmN0eC50cmFuc2xhdGUoeCwgeSk7XHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHlcclxuXHQgKi9cclxuXHRzY2FsZSh4LCB5KSB7XHJcblx0XHR0aGlzLmN0eC5zY2FsZSh4LCB5KTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHIgLSByYWRcclxuXHQgKi9cclxuXHRyb3RhdGUocikge1xyXG5cdFx0dGhpcy5jdHgucm90YXRlKHIpO1xyXG5cdH1cclxuXHJcblx0Ly8vKiogQHR5cGUge251bWJlcltdfSAqL1xyXG5cdC8vZ2V0IGNvbG9yKCkge1xyXG5cdC8vXHRyZXR1cm4gdGhpcy5fY29sb3I7XHJcblx0Ly99XHJcblxyXG5cdC8qKiBAdHlwZSB7bnVtYmVyW119IC0gNGZ2ICovXHJcblx0c2V0IGNvbG9yKGY0dikge1xyXG5cdFx0Ly9mNHYgPSBbLi4uZjR2XTtcclxuXHJcblx0XHRjb25zdCByZWQgPSBNYXRoLnRydW5jKGY0dlswXSAqIDI1NSk7XHJcblx0XHRjb25zdCBncmVlbiA9IE1hdGgudHJ1bmMoZjR2WzFdICogMjU1KTtcclxuXHRcdGNvbnN0IGJsdWUgPSBNYXRoLnRydW5jKGY0dlsyXSAqIDI1NSk7XHJcblx0XHRjb25zdCBhbHBoYSA9IGY0dlszXS50b0ZpeGVkKDMpO1xyXG5cclxuXHRcdHRoaXMuY3R4LmZpbGxTdHlsZSA9IGByZ2JhKCR7cmVkfSwke2dyZWVufSwke2JsdWV9LCR7YWxwaGF9KWA7XHJcblx0XHR0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY3R4LmZpbGxTdHlsZTtcclxuXHJcblx0XHQvL2Y0di5yID0gcmVkO1xyXG5cdFx0Ly9mNHYuZyA9IGdyZWVuO1xyXG5cdFx0Ly9mNHYuYiA9IGJsdWU7XHJcblx0XHQvL2Y0di5hID0gYWxwaGE7XHJcblx0XHQvL3RoaXMuX2NvbG9yID0gZjR2O1xyXG5cdH1cclxuXHJcblx0Z2V0IGdsb2JhbEFscGhhKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2dsb2JhbEFscGhhOy8vdGhpcy5jdHguZ2xvYmFsQWxwaGE7XHJcblx0fVxyXG5cdHNldCBnbG9iYWxBbHBoYSh2YWx1ZSkge1xyXG5cdFx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuXHRcdFx0aWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IDEpIHtcclxuXHRcdFx0XHRkZWJ1Z2dlcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuX2dsb2JhbEFscGhhICE9IHZhbHVlKSB7XHJcblx0XHRcdHRoaXMuX2dsb2JhbEFscGhhID0gdmFsdWU7XHJcblx0XHRcdHRoaXMuY3R4Lmdsb2JhbEFscGhhID0gdmFsdWU7XHJcblx0XHR9XHJcblx0fVxyXG5cdHB1c2hHbG9iYWxBbHBoYSgpIHtcclxuXHRcdHRoaXMuX2dsb2JhbEFscGhhU3RhY2sucHVzaCh0aGlzLmN0eC5nbG9iYWxBbHBoYSk7XHJcblx0fVxyXG5cdHBvcEdsb2JhbEFscGhhKHZhbHVlKSB7XHJcblx0XHR0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IHRoaXMuX2dsb2JhbEFscGhhU3RhY2sucG9wKCk7XHJcblx0fVxyXG5cclxuXHRiZWdpblNjZW5lKCkge1xyXG5cdFx0Ly8gbm90aGluZ1xyXG5cdH1cclxuXHJcblx0ZW5kU2NlbmUoKSB7XHJcblx0XHQvLyBub3RoaW5nXHJcblx0fVxyXG5cclxuXHRjbGVhckRyYXdTY3JlZW4oKSB7XHJcblx0XHRjb25zdCBjID0gdGhpcy5jdHguY2FudmFzO1xyXG5cdFx0dGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIGMud2lkdGgsIGMuaGVpZ2h0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHlcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gd1xyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBoXHJcblx0ICovXHJcblx0ZHJhd1JlY3QoeCwgeSwgdywgaCkge1xyXG5cdFx0LyoqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICovXHJcblx0XHRsZXQgY3R4ID0gdGhpcy5jdHg7XHJcblxyXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gNCkge1xyXG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdGN0eC5maWxsUmVjdCh4LCB5LCB3LCBoKTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRkZWJ1Z2dlcjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7SUdyYXBofSBncmFwaFxyXG5cdCAqL1xyXG5cdGRyYXdHcmFwaChncmFwaCkge1xyXG5cdFx0aWYgKGdyYXBoLmlzTG9hZGVkKCkpIHtcclxuXHRcdFx0dGhpcy5jdHguZHJhd0ltYWdlKGdyYXBoLnRleHR1cmUsIDAsIDApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge0lHcmFwaH0gZ3JhcGhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHpcclxuXHQgKi9cclxuXHRkcmF3R3JhcGgyKGdyYXBoLCB4LCB5LCB6KSB7XHJcblx0XHRpZiAoZ3JhcGguaXNMb2FkZWQoKSkge1xyXG5cdFx0XHR0aGlzLmN0eC5kcmF3SW1hZ2UoZ3JhcGgudGV4dHVyZSwgeCwgeSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge0lHcmFwaH0gZ3JhcGhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gc3ggLSBUaGUgeCBjb29yZGluYXRlIHdoZXJlIHRvIHN0YXJ0IGNsaXBwaW5nXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHN5IC0gVGhlIHkgY29vcmRpbmF0ZSB3aGVyZSB0byBzdGFydCBjbGlwcGluZ1xyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBzd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIGNsaXBwZWQgaW1hZ2VcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gc2hlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIGNsaXBwZWQgaW1hZ2VcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSB4IGNvb3JkaW5hdGUgd2hlcmUgdG8gcGxhY2UgdGhlIGltYWdlIG9uIHRoZSBjYW52YXNcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSB5IGNvb3JkaW5hdGUgd2hlcmUgdG8gcGxhY2UgdGhlIGltYWdlIG9uIHRoZSBjYW52YXNcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIGltYWdlIHRvIHVzZSAoc3RyZXRjaCBvciByZWR1Y2UgdGhlIGltYWdlKVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSBpbWFnZSB0byB1c2UgKHN0cmV0Y2ggb3IgcmVkdWNlIHRoZSBpbWFnZSlcclxuXHQgKi9cclxuXHRfZHJhd0ltYWdlKGdyYXBoLCBzeCwgc3ksIHN3aWR0aCwgc2hlaWdodCwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG5cdFx0aWYgKGdyYXBoLmlzTG9hZGVkKCkpIHtcclxuXHRcdFx0dGhpcy5jdHguZHJhd0ltYWdlKGdyYXBoLnRleHR1cmUsIHN4LCBzeSwgc3dpZHRoLCBzaGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblxyXG5cdC8qKlxyXG5cdCAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80Mjg1NjQyMFxyXG5cdCAqL1xyXG5cdF9fZHJhd01pcnJvckltYWdlKGN0eCwgaW1hZ2UsIHggPSAwLCB5ID0gMCwgaG9yaXpvbnRhbCA9IGZhbHNlLCB2ZXJ0aWNhbCA9IGZhbHNlKXtcclxuXHRcdGN0eC5zYXZlKCk7ICAvLyBzYXZlIHRoZSBjdXJyZW50IGNhbnZhcyBzdGF0ZVxyXG5cdFx0Y3R4LnNldFRyYW5zZm9ybShcclxuXHRcdFx0aG9yaXpvbnRhbCA/IC0xIDogMSwgMCwgLy8gc2V0IHRoZSBkaXJlY3Rpb24gb2YgeCBheGlzXHJcblx0XHRcdDAsIHZlcnRpY2FsID8gLTEgOiAxLCAgIC8vIHNldCB0aGUgZGlyZWN0aW9uIG9mIHkgYXhpc1xyXG5cdFx0XHR4ICsgaG9yaXpvbnRhbCA/IGltYWdlLndpZHRoIDogMCwgLy8gc2V0IHRoZSB4IG9yaWdpblxyXG5cdFx0XHR5ICsgdmVydGljYWwgPyBpbWFnZS5oZWlnaHQgOiAwICAgLy8gc2V0IHRoZSB5IG9yaWdpblxyXG5cdFx0XHQpO1xyXG5cdFx0Y3R4LmRyYXdJbWFnZShpbWFnZSwwLDApO1xyXG5cdFx0Y3R4LnJlc3RvcmUoKTsgLy8gcmVzdG9yZSB0aGUgc3RhdGUgYXMgaXQgd2FzIHdoZW4gdGhpcyBmdW5jdGlvbiB3YXMgY2FsbGVkXHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIHdoaXRvdXQgc2F2ZS9yZXN0b3JlIGNhbnZhc1xyXG5cdCAqIEBwYXJhbSB7SUdyYXBofSBncmFwaFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHlcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGZsaXBcclxuXHQgKi9cclxuXHRfZHJhd1JvdGFHcmFwaChncmFwaCwgeCwgeSwgYW5nbGUsIGZsaXApIHtcclxuXHRcdC8vIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDE7XHJcblx0XHRcdFxyXG5cdFx0Ly8gdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcblx0XHQvLyB0aGlzLmN0eC5tb3ZlVG8oMCwgMCk7XHJcblx0XHQvLyB0aGlzLmN0eC5saW5lVG8oMzIsIDApO1xyXG5cdFx0Ly8gdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBcImRhcmtyZWRcIjtcclxuXHRcdC8vIHRoaXMuY3R4LnN0cm9rZSgpO1xyXG5cdFx0XHJcblx0XHQvLyB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuXHRcdC8vIHRoaXMuY3R4Lm1vdmVUbygwLCAwKTtcclxuXHRcdC8vIHRoaXMuY3R4LmxpbmVUbygwLCAzMik7XHJcblx0XHQvLyB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IFwiZGFya2dyZWVuXCI7XHJcblx0XHQvLyB0aGlzLmN0eC5zdHJva2UoKTtcclxuXHRcdFxyXG5cdFx0Ly8gdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcblx0XHQvLyB0aGlzLmN0eC5yZWN0KDAsIDAsIDMyLCAzMik7XHJcblx0XHQvLyB0aGlzLmN0eC5maWxsU3R5bGUgPSBcInJnYmEoNjYsNjYsNjYsMC41KVwiO1xyXG5cdFx0Ly8gdGhpcy5jdHguZmlsbCgpO1xyXG5cdFx0XHJcblx0XHQvL2lmIChmbGlwIHx8IGFuZ2xlID4gMC4wMDEgfHwgYW5nbGUgPCAtMC4wMDEpIHtcclxuXHRcdFx0aWYgKDEpIHtcclxuXHRcdFx0XHR0aGlzLnRyYW5zbGF0ZSh4LCB5KTsvL3pvcmRlciA/IGdyYXBoLnpcclxuXHJcblx0XHRcdFx0dGhpcy5yb3RhdGUoYW5nbGUpO1xyXG5cclxuXHRcdFx0XHR0aGlzLnNjYWxlKGZsaXAgPyAtMSA6IDEsIDEpO1xyXG5cclxuXHRcdFx0XHR0aGlzLnRyYW5zbGF0ZSgtZ3JhcGgueCwgLWdyYXBoLnkpOy8vcmVzZXQgcm90YXRpb24gY2VudGVyXHJcblxyXG5cdFx0XHRcdHRoaXMuZHJhd0dyYXBoKGdyYXBoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRjb25zdCBweCA9ICh4IC0gKGZsaXAgPyAtZ3JhcGgueCArIGdyYXBoLndpZHRoIDogZ3JhcGgueCkpO1xyXG5cdFx0XHRcdGNvbnN0IHB5ID0gKHkgLSBncmFwaC55KTtcclxuXHJcblx0XHRcdFx0Y29uc3QgY3ggPSBncmFwaC53aWR0aCAqIDAuNTtcclxuXHRcdFx0XHRjb25zdCBjeSA9IGdyYXBoLmhlaWdodCAqIDAuNTtcclxuXHJcblx0XHRcdFx0dGhpcy50cmFuc2xhdGUocHgsIHB5KTsvL3pvcmRlciA/IGdyYXBoLnpcclxuXHJcblx0XHRcdFx0dGhpcy50cmFuc2xhdGUoY3gsIGN5KTsvL+Wbnui7ouihjOWIl+OBruS4reW/gyAocm90YXRpb25DZW50ZXIpXHJcblx0XHRcdFx0dGhpcy5yb3RhdGUoYW5nbGUpO1xyXG5cclxuXHRcdFx0XHR0aGlzLnNjYWxlKGZsaXAgPyAtMSA6IDEsIDEpO1xyXG5cclxuXHRcdFx0XHR0aGlzLnRyYW5zbGF0ZSgtY3gsIC1jeSk7Ly9yZXNldCByb3RhdGlvbiBjZW50ZXJcclxuXHJcblx0XHRcdFx0dGhpcy5kcmF3R3JhcGgoZ3JhcGgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHtcclxuXHRcdFx0XHQvLyB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHQvLyB0aGlzLmN0eC5tb3ZlVG8oY3gsIGN5KTtcclxuXHRcdFx0XHQvLyB0aGlzLmN0eC5saW5lVG8oY3ggKyAzMiwgY3kpO1xyXG5cdFx0XHRcdC8vIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcclxuXHRcdFx0XHQvLyB0aGlzLmN0eC5zdHJva2UoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0XHQvLyB0aGlzLmN0eC5tb3ZlVG8oY3gsIGN5KTtcclxuXHRcdFx0XHQvLyB0aGlzLmN0eC5saW5lVG8oY3gsIGN5ICsgMzIpO1xyXG5cdFx0XHRcdC8vIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCIjMGYwXCI7XHJcblx0XHRcdFx0Ly8gdGhpcy5jdHguc3Ryb2tlKCk7XHJcblx0XHRcdC8vIH1cclxuXHRcdC8vfVxyXG5cdFx0Ly9lbHNlIHtcclxuXHRcdC8vXHR0aGlzLmRyYXdHcmFwaDIoZ3JhcGgsIHggLSBncmFwaC54LCB5IC0gZ3JhcGgueSk7XHJcblx0XHQvL31cclxuXHR9XHJcblx0LyoqXHJcblx0ICogd2hpdCBzYXZlL3Jlc3RvcmUgY2FudmFzXHJcblx0ICogQHBhcmFtIHtJR3JhcGh9IGdyYXBoXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxyXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gZmxpcFxyXG5cdCAqL1xyXG5cdGRyYXdSb3RhR3JhcGgoZ3JhcGgsIHgsIHksIGFuZ2xlLCBmbGlwKSB7XHJcblx0XHQvL2lmIChmbGlwIHx8IGFuZ2xlID4gMC4wMDEgfHwgYW5nbGUgPCAtMC4wMDEpIHtcclxuXHRcdFx0dGhpcy5wdXNoTWF0cml4KCk7XHJcblx0XHRcdHRoaXMuX2RyYXdSb3RhR3JhcGgoZ3JhcGgsIHgsIHksIGFuZ2xlLCBmbGlwKTtcclxuXHRcdFx0dGhpcy5wb3BNYXRyaXgoKTtcclxuXHRcdC8vfVxyXG5cdFx0Ly9lbHNlIHtcclxuXHRcdC8vXHR0aGlzLmRyYXdHcmFwaDIoZ3JhcGgsIHggLSBncmFwaC54LCB5IC0gZ3JhcGgueSk7XHJcblx0XHQvL31cclxuXHR9XHJcblx0LyoqXHJcblx0ICogd2hpdG91dCBzYXZlL3Jlc3RvcmUgY2FudmFzXHJcblx0ICogQHBhcmFtIHtJR3JhcGh9IGdyYXBoXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxyXG5cdCAqIEBwYXJhbSB7VmVjMn0gY2VudGVyXHJcblx0ICogQHBhcmFtIHtSZWN0YW5nbGV9IGNsaXBcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGZsaXBcclxuXHQgKi9cclxuXHRfZHJhd1JvdGFDbGlwR3JhcGgoZ3JhcGgsIHgsIHksIGFuZ2xlLCBjZW50ZXIsIGNsaXAsIGZsaXApIHtcclxuXHRcdGNvbnN0IG9yaXggPSBjZW50ZXIueDtcclxuXHRcdGNvbnN0IG9yaXkgPSBjZW50ZXIueTtcclxuXHJcblx0XHRjb25zdCBweCA9ICh4IC0gKGZsaXAgPyAtb3JpeCArIGNsaXAud2lkdGggOiBvcml4KSk7XHJcblx0XHRjb25zdCBweSA9ICh5IC0gb3JpeSk7XHJcblxyXG5cdFx0Y29uc3QgY3ggPSBjbGlwLndpZHRoICogMC41O1xyXG5cdFx0Y29uc3QgY3kgPSBjbGlwLmhlaWdodCAqIDAuNTtcclxuXHJcblx0XHR0aGlzLnRyYW5zbGF0ZShweCwgcHkpOy8vem9yZGVyID8gZ3JhcGguelxyXG5cclxuXHRcdHRoaXMudHJhbnNsYXRlKGN4LCBjeSk7Ly/lm57ou6LooYzliJfjga7kuK3lv4MgKHJvdGF0aW9uQ2VudGVyKVxyXG5cdFx0dGhpcy5yb3RhdGUoYW5nbGUpO1xyXG5cclxuXHRcdHRoaXMuc2NhbGUoZmxpcCA/IC0xIDogMSwgMSk7XHJcblxyXG5cdFx0dGhpcy50cmFuc2xhdGUoLWN4LCAtY3kpOy8vcmVzZXQgcm90YXRpb24gY2VudGVyXHJcblxyXG5cdFx0dGhpcy5fZHJhd0ltYWdlKGdyYXBoLCBjbGlwLngsIGNsaXAueSwgY2xpcC53aWR0aCwgY2xpcC5oZWlnaHQsIDAsIDAsIGNsaXAud2lkdGgsIGNsaXAuaGVpZ2h0KTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogd2hpdCBzYXZlL3Jlc3RvcmUgY2FudmFzXHJcblx0ICogQHBhcmFtIHtJR3JhcGh9IGdyYXBoXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxyXG5cdCAqIEBwYXJhbSB7VmVjMn0gY2VudGVyXHJcblx0ICogQHBhcmFtIHtSZWN0YW5nbGV9IGNsaXBcclxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGZsaXBcclxuXHQgKi9cclxuXHRkcmF3Um90YUNsaXBHcmFwaChncmFwaCwgeCwgeSwgYW5nbGUsIGNlbnRlciwgY2xpcCwgZmxpcCkge1xyXG5cdFx0dGhpcy5wdXNoTWF0cml4KCk7XHJcblx0XHR0aGlzLl9kcmF3Um90YUNsaXBHcmFwaChncmFwaCwgeCwgeSwgYW5nbGUsIGNlbnRlciwgY2xpcCwgZmxpcCk7XHJcblx0XHR0aGlzLnBvcE1hdHJpeCgpO1xyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge0lHcmFwaH0gZ3JhcGhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICogQHBhcmFtIHtDb2xvclJHQn0gY29sb3JcclxuXHQgKi9cclxuXHRkcmF3Q29sb3JlZEdyYXBoKGdyYXBoLCB4LCB5LCBjb2xvcikgey8vZGVzdGluYXRpb25cclxuXHRcdGlmIChncmFwaC5pc0xvYWRlZCgpKSB7XHJcblx0XHRcdGlmIChfZXhwZXJpbWVudGFsX3BhcnRpY2xlKSB7XHJcblx0XHRcdFx0dGhpcy5jdHguZmlsdGVyID0gY29sb3IudG9GaWx0ZXIoKTtcclxuXHRcdFx0XHR0aGlzLmN0eC5kcmF3SW1hZ2UoZ3JhcGgudGV4dHVyZSwgeCAtIGdyYXBoLngsIHkgLSBncmFwaC55KTtcclxuXHRcdFx0XHR0aGlzLmN0eC5maWx0ZXIgPSBcIm5vbmVcIjtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRjb25zdCBfY3R4ID0gdGhpcy5fY3R4MjtcclxuXHJcblx0XHRcdFx0X2N0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImNvcHlcIjtcclxuXHRcdFx0XHRfY3R4LmRyYXdJbWFnZShncmFwaC50ZXh0dXJlLCAwLCAwKTtcclxuXHJcblx0XHRcdFx0X2N0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRhcmtlblwiO1xyXG5cdFx0XHRcdF9jdHguZmlsbFN0eWxlID0gY29sb3IudG9TdHJpbmcoKTtcclxuXHRcdFx0XHRfY3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRcdC8vX2N0eC5hcmMoZ3JhcGgud2lkdGggLyAyLCBncmFwaC53aWR0aCAvIDIsIGdyYXBoLndpZHRoIC8gMiwgMCwgTWF0aC5QSSAqIDIpO1xyXG5cdFx0XHRcdF9jdHgucmVjdCgwLCAwLCBncmFwaC53aWR0aCwgZ3JhcGgud2lkdGgpO1xyXG5cdFx0XHRcdF9jdHguZmlsbCgpO1xyXG5cclxuXHRcdFx0XHRfY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiZGVzdGluYXRpb24tYXRvcFwiO1xyXG5cdFx0XHRcdF9jdHguZHJhd0ltYWdlKGdyYXBoLnRleHR1cmUsIDAsIDApO1xyXG5cclxuXHRcdFx0XHR0aGlzLmN0eC5kcmF3SW1hZ2UodGhpcy5fY2FudmFzMiwgeCAtIGdyYXBoLngsIHkgLSBncmFwaC55KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge0lHcmFwaH0gZ3JhcGhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVlcclxuXHQgKiBAcGFyYW0ge0NvbG9yUkdCfSBjb2xvclxyXG5cdCAqL1xyXG5cdGRyYXdDb2xvcmVkR3JhcGgyKGdyYXBoLCB4LCB5LCBzY2FsZVgsIHNjYWxlWSwgY29sb3IpIHsvL2Rlc3RpbmF0aW9uXHJcblx0XHRpZiAoZ3JhcGguaXNMb2FkZWQoKSkge1xyXG5cdFx0XHRjb25zdCB3aWR0aCA9IGdyYXBoLndpZHRoO1xyXG5cdFx0XHRjb25zdCBoZWlnaHQgPSBncmFwaC5oZWlnaHQ7XHJcblx0XHRcdGNvbnN0IHN3aWR0aCA9IHdpZHRoICogc2NhbGVYO1xyXG5cdFx0XHRjb25zdCBzaGVpZ2h0ID0gaGVpZ2h0ICogc2NhbGVZO1xyXG5cclxuXHRcdFx0aWYgKF9leHBlcmltZW50YWxfcGFydGljbGUpIHtcclxuXHRcdFx0XHR0aGlzLmN0eC5maWx0ZXIgPSBjb2xvci50b0ZpbHRlcigpO1xyXG5cdFx0XHRcdHRoaXMuY3R4LmRyYXdJbWFnZShncmFwaC50ZXh0dXJlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0LCB4IC0gZ3JhcGgueCwgeSAtIGdyYXBoLnksIHN3aWR0aCwgc2hlaWdodCk7XHJcblx0XHRcdFx0dGhpcy5jdHguZmlsdGVyID0gXCJub25lXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Y29uc3QgX2N0eCA9IHRoaXMuX2N0eDI7XHJcblxyXG5cdFx0XHRcdF9jdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJjb3B5XCI7XHJcblx0XHRcdFx0X2N0eC5kcmF3SW1hZ2UoZ3JhcGgudGV4dHVyZSwgMCwgMCwgc3dpZHRoLCBzd2lkdGgpO1xyXG5cclxuXHRcdFx0XHRfY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiZGFya2VuXCI7XHJcblx0XHRcdFx0X2N0eC5maWxsU3R5bGUgPSBjb2xvci50b1N0cmluZygpO1xyXG5cdFx0XHRcdF9jdHguYmVnaW5QYXRoKCk7XHJcblx0XHRcdFx0Ly9fY3R4LmFyYyhncmFwaC53aWR0aCAvIDIsIGdyYXBoLmhlaWdodCAvIDIsIGdyYXBoLndpZHRoIC8gMiwgMCwgTWF0aC5QSSAqIDIpO1xyXG5cdFx0XHRcdF9jdHgucmVjdCgwLCAwLCBzd2lkdGgsIHN3aWR0aCk7XHJcblx0XHRcdFx0X2N0eC5maWxsKCk7XHJcblxyXG5cdFx0XHRcdF9jdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1hdG9wXCI7XHJcblx0XHRcdFx0X2N0eC5kcmF3SW1hZ2UoZ3JhcGgudGV4dHVyZSwgMCwgMCwgc3dpZHRoLCBzd2lkdGgpO1xyXG5cclxuXHRcdFx0XHR0aGlzLmN0eC5kcmF3SW1hZ2UodGhpcy5fY2FudmFzMiwgMCwgMCwgc3dpZHRoLCBzaGVpZ2h0LCB4IC0gZ3JhcGgueCwgeSAtIGdyYXBoLnksIHN3aWR0aCwgc2hlaWdodCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbiIsIu+7v1xyXG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiLi9DYW52YXMyRFJlbmRlcmVyLmpzXCI7XHJcbi8vaW1wb3J0IHsgRW5naW5lIH0gZnJvbSBcIi4vV2ViR0xSZW5kZXJlci5qc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVuZ2luZSA9IG5ldyBFbmdpbmUoKTtcclxuXHJcbndpbmRvdy4kZW5naW5lID0gZW5naW5lO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtJR3JhcGh9XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgR3JhcGggPSBlbmdpbmUuR3JhcGg7XHJcblxyXG5cclxuZW5naW5lLmluaXQoXCJnbGNhbnZhc1wiKTtcclxuXHJcbmlmIChTU0FuaW0pIHtcclxuXHRpZiAoZW5naW5lLmN0eCkge1xyXG5cdFx0U1NBbmltLlNldFJlbmRlcmluZ0NvbnRleHQoZW5naW5lLmN0eCk7XHJcblx0fVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMzakJBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///335\n')}}]);