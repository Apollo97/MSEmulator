(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[3],{

/***/ "./src/game/Sprite.js":
/*!****************************!*\
  !*** ./src/game/Sprite.js ***!
  \****************************/
/*! exports provided: SpriteBase, Sprite, _$PatternSprite_Loaded, $PatternSprite */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SpriteBase\", function() { return SpriteBase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Sprite\", function() { return Sprite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_$PatternSprite_Loaded\", function() { return _$PatternSprite_Loaded; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"$PatternSprite\", function() { return $PatternSprite; });\n/* harmony import */ var _math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math.js */ \"./src/game/math.js\");\n/* harmony import */ var _IRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./IRenderer.js */ \"./src/game/IRenderer.js\");\n/* harmony import */ var _Engine_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Engine.js */ \"./src/game/Engine.js\");\n﻿\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @extends {IGraph}\r\n */\r\nclass SpriteBase extends _Engine_js__WEBPACK_IMPORTED_MODULE_2__[\"Graph\"] {\r\n\t/**\r\n\t * @param {!any} raw\r\n\t * @param {string=} url\r\n\t */\r\n\tconstructor(raw, url) {\r\n\t\tif (raw) {\r\n\t\t\tsuper(url, {\r\n\t\t\t\twidth: raw.__w,\r\n\t\t\t\theight: raw.__h,\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsuper();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._raw = raw;\r\n\t\t\r\n\t\t//this.src is broken;\r\n\r\n\t\tif (url) {\r\n\t\t\tdebugger\r\n\t\t\tthis._url = url;\r\n\t\t\t//this._loadTexture(url);//_loadTexture: undefined\r\n\t\t}\r\n\t\telse if (SpriteBase.isTexture(raw) !== false) {\r\n\t\t\tthis._url = raw[\"\"];\r\n\t\t}\r\n\t}\r\n\r\n\tstatic isTexture(raw) {\r\n\t\tif (raw) {\r\n\t\t\tif (raw.hasOwnProperty(\"\")) {\r\n\t\t\t\tif (typeof raw[\"\"] == 'string') {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (!raw.__isEmpty) {\r\n\t\t\t\t\tconsole.group(\"no texture\");\r\n\t\t\t\t\tconsole.warn(raw);\r\n\t\t\t\t\tconsole.groupEnd();\r\n\t\t\t\t\tthrow new Error(\"no texture\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tstatic isTextureHasData(raw) {\r\n\t\treturn raw && typeof raw[\"\"] == 'string' && raw[\"\"].startsWith(\"data:image/\");\r\n\t}\r\n\r\n\tset z(value) {\r\n\t\tthis._order = value;\r\n\t}\r\n\tget z() {\r\n\t\treturn this._order;\r\n\t}\r\n\t\r\n\t/**\r\n\t * try construct value from raw data\r\n\t * @param {T} defaultValue\r\n\t * @param {string} propertyName\r\n\t * @param {function(any):T} constructor\r\n\t * @returns {T}\r\n\t * @template T\r\n\t */\r\n\t_get(defaultValue, propertyName, converter) {\r\n\t\tif (!this._raw) {\r\n\t\t\tdebugger;\r\n\t\t}\r\n\t\telse if (propertyName in this._raw) {\r\n\t\t\treturn converter(this._raw[propertyName]);\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t}\r\n\r\n\tdraw() {\r\n\t\tthis._engine.drawGraph(this);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t */\r\n\tdraw2(x, y) {\r\n\t\tthis._engine.drawGraph2(this, x - this.x, y - this.y);\r\n\t}\r\n\t/**\r\n\t * @param {number} x - type: int\r\n\t * @param {number} y - type: int\r\n\t */\r\n\tdraw2i(x, y) {\r\n\t\tthis._engine.drawGraph2(this, Math.trunc(x - this.x + 0.5), Math.trunc(y - this.y + 0.5));\r\n\t}\r\n}\r\n\r\n\r\nclass Sprite extends SpriteBase {\r\n\t/**\r\n\t * sprite = new Sprite(rawData);//不會載入image\r\n\t * sprite._url = img_url;//不會載入image\r\n\t *\r\n\t * 會觸發載入image的method\r\n\t * draw(), isLoaded(), get width(), get height()\r\n\t * \r\n\t * 手動載入image: __loadTexture()\r\n\t * \r\n\t * @param {!any} raw\r\n\t * @param {string=} url\r\n\t */\r\n\tconstructor(raw, url) {\r\n\t\tsuper(raw, url);\r\n\r\n\t\tvar origin = this._get(new _math_js__WEBPACK_IMPORTED_MODULE_0__[\"Vec2\"](0, 0), \"origin\", _math_js__WEBPACK_IMPORTED_MODULE_0__[\"Vec2\"].get);\r\n\t\tthis.x = origin.x;\r\n\t\tthis.y = origin.y;\r\n\r\n\t\tthis.z = this._get(0, \"z\", Number);\r\n\r\n\t\tthis.delay = this._get(100, \"delay\", Number);\r\n\t}\r\n\t\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} w\r\n\t * @param {number} h\r\n\t */\r\n\tdrawPattern(x, y, w, h) {\r\n\t\tif (!this.isLoaded()) {\r\n\t\t\treturn;//sprite require property: width, height\r\n\t\t}\r\n\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\tconst ctx = this._engine.ctx;\r\n\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tctx.rect(x, y, w, h);\r\n\t\t\tctx.clip();\r\n\r\n\t\t\tlet left = x;\r\n\t\t\tlet top = y;\r\n\t\t\tlet right = x + w;\r\n\t\t\tlet bottom = y + h;\r\n\r\n\t\t\tfor (let i = top; i < bottom; i += this.height) {\r\n\t\t\t\tfor (let j = left; j < right; j += this.width) {\r\n\t\t\t\t\tthis.draw2(j, i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (ex) {\r\n\t\t\tconsole.error(ex);\r\n\t\t\tdebugger;\r\n\t\t}\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} w\r\n\t */\r\n\tdrawHorizontalPattern(x, y, w) {\r\n\t\tif (!this.isLoaded()) {\r\n\t\t\treturn;//sprite require property: width, height\r\n\t\t}\r\n\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\tconst ctx = this._engine.ctx;\r\n\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tconst left = x;\r\n\t\t\tconst right = x + w;\r\n\r\n\t\t\tfor (let j = left; j < right; j += this.width) {\r\n\t\t\t\tthis.draw2(j, y);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (ex) {\r\n\t\t\tconsole.error(ex);\r\n\t\t\tdebugger;\r\n\t\t}\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} h\r\n\t */\r\n\tdrawVerticalPattern(x, y, h) {\r\n\t\tif (!this.isLoaded()) {\r\n\t\t\treturn;//sprite require property: width, height\r\n\t\t}\r\n\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\tconst ctx = this._engine.ctx;\r\n\r\n\t\tctx.save();\r\n\t\ttry {\r\n\t\t\tconst top = y;\r\n\t\t\tconst bottom = y + h;\r\n\r\n\t\t\tfor (let i = top; i < bottom; i += this.height) {\r\n\t\t\t\tthis.draw2(x, i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (ex) {\r\n\t\t\tconsole.error(ex);\r\n\t\t\tdebugger;\r\n\t\t}\r\n\t\tctx.restore();\r\n\t}\r\n\r\n\t/**\r\n\t * without clip\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} w\r\n\t * @param {number} h\r\n\t */\r\n\t_drawPattern(x, y, w, h) {\r\n\t\tif (!this.isLoaded()) {\r\n\t\t\treturn;//sprite require property: width, height\r\n\t\t}\r\n\t\t\r\n\t\tconst sw = Math.trunc(w / this.width) * this.width;\r\n\t\tconst sh = Math.trunc(h / this.height) * this.height;\r\n\t\t\r\n\t\tconst left = x;\r\n\t\tconst top = y;\r\n\t\tconst right = x + sw;\r\n\t\tconst bottom = y + h;\r\n\r\n\t\tlet i, j;\r\n\r\n\t\tif (h >= this.height) {\r\n\t\t\tfor (i = top; i < bottom; i += this.height) {\r\n\t\t\t\tif (w >= this.width) {\r\n\t\t\t\t\tfor (j = left; j < right; j += this.width) {\r\n\t\t\t\t\t\tthis.draw2(j, i);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet sx = w - sw;\r\n\t\t\t\t\tif (sx > 0) {\r\n\t\t\t\t\t\tthis._engine._drawImage(this, 0, 0, sx, this.height, j - this.x, i - this.y, sx, this.height);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._engine._drawImage(this, 0, 0, w, this.height, left - this.x, i - this.y, w, this.height);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet sy = h - sh;\r\n\t\t\tif (sy > 0) {\r\n\t\t\t\tconsole.error(new Error(\"未完成\"));\r\n\t\t\t\tthis._engine._drawImage(this, 0, 0, this.width, sy, left - this.x, i - this.y, this.width, sy);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.error(new Error(\"未完成\"));\r\n\t\t\tthis._engine._drawImage(this, 0, 0, this.width, h, left - this.x, top - this.y, this.width, h);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * without clip\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} w\r\n\t */\r\n\t_drawHorizontalPattern(x, y, w) {\r\n\t\tif (!this.isLoaded()) {\r\n\t\t\treturn;//sprite require property: width, height\r\n\t\t}\r\n\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\tconst ctx = this._engine.ctx;\r\n\r\n\t\tconst left = x;\r\n\t\tconst right = x + w;\r\n\r\n\t\tfor (let j = left; j < right; j += this.width) {\r\n\t\t\tthis.draw2(j, y);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * without clip\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} h\r\n\t */\r\n\t_drawVerticalPattern(x, y, h) {\r\n\t\tif (!this.isLoaded()) {\r\n\t\t\treturn;//sprite require property: width, height\r\n\t\t}\r\n\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\tconst ctx = this._engine.ctx;\r\n\r\n\t\tconst top = y;\r\n\t\tconst bottom = y + h;\r\n\r\n\t\tfor (let i = top; i < bottom; i += this.height) {\r\n\t\t\tthis.draw2(x, i);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * @param {number} x - type: int\r\n\t * @param {number} y - type: int\r\n\t * @param {number} w - type: int\r\n\t * @param {number} h - type: int\r\n\t */\r\n\tdrawPattern4i(x, y, w, h) {\r\n\t\tthis.drawPattern(Math.trunc(x + 0.5), Math.trunc(y + 0.5), Math.trunc(w + 0.5), Math.trunc(h + 0.5));\r\n\t}\r\n\t/**\r\n\t * @param {number} x - type: int\r\n\t * @param {number} y - type: int\r\n\t * @param {number} w - type: int\r\n\t */\r\n\tdrawHorizontalPattern3i(x, y, w) {\r\n\t\tthis.drawHorizontalPattern(Math.trunc(x + 0.5), Math.trunc(y + 0.5), Math.trunc(w + 0.5));\r\n\t}\r\n\t/**\r\n\t * @param {number} x - type: int\r\n\t * @param {number} y - type: int\r\n\t * @param {number} h - type: int\r\n\t */\r\n\tdrawVerticalPattern3i(x, y, h) {\r\n\t\tthis.drawVerticalPattern(Math.trunc(x + 0.5), Math.trunc(y + 0.5), Math.trunc(h + 0.5));\r\n\t}\r\n\t/**\r\n\t * without clip\r\n\t * @param {number} x - type: int\r\n\t * @param {number} y - type: int\r\n\t * @param {number} w - type: int\r\n\t * @param {number} h - type: int\r\n\t */\r\n\t_drawPattern4i(x, y, w, h) {\r\n\t\tthis._drawPattern(Math.trunc(x + 0.5), Math.trunc(y + 0.5), Math.trunc(w + 0.5), Math.trunc(h + 0.5));\r\n\t}\r\n\t/**\r\n\t * without clip\r\n\t * @param {number} x - type: int\r\n\t * @param {number} y - type: int\r\n\t * @param {number} w - type: int\r\n\t */\r\n\t_drawHorizontalPattern3i(x, y, w) {\r\n\t\tthis._drawHorizontalPattern(Math.trunc(x + 0.5), Math.trunc(y + 0.5), Math.trunc(w + 0.5));\r\n\t}\r\n\t/**\r\n\t * without clip\r\n\t * @param {number} x - type: int\r\n\t * @param {number} y - type: int\r\n\t * @param {number} h - type: int\r\n\t */\r\n\t_drawVerticalPattern3i(x, y, h) {\r\n\t\tthis._drawVerticalPattern(Math.trunc(x + 0.5), Math.trunc(y + 0.5), Math.trunc(h + 0.5));\r\n\t}\r\n}\r\n\r\nclass _$PatternSprite_Loaded extends Sprite {\r\n\t/**\r\n\t * @param {!any} raw\r\n\t * @param {string=} url\r\n\t */\r\n\tconstructor(raw, url) {\r\n\t\tsuper(raw, url);\r\n\r\n\t\t/** @type {string} */\r\n\t\tthis._direction = null;\r\n\r\n\t\t/** @type {CanvasPattern} */\r\n\t\tthis._pattern = null;\r\n\t}\r\n\r\n\t/** @type {string} */\r\n\tget direction() {\r\n\t\treturn this._direction;\r\n\t}\r\n\tset direction(value) {\r\n\t\tif (value && this._direction != value) {\r\n\t\t\tthis._direction = value;\r\n\t\r\n\t\t\t//reload;\r\n\t\t\tthis._pattern = null;\r\n\t\t\tthis.__proto__ = $PatternSprite.prototype;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} w\r\n\t * @param {number} h\r\n\t */\r\n\tdrawPattern(w, h) {\r\n\t\tif (this.direction && this._pattern) {\r\n\t\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\t\tconst ctx = this._engine.ctx;\r\n\t\r\n\t\t\tctx.rect(-this.x, -this.y, w, h);\r\n\t\t\tctx.fillStyle = this._pattern;\r\n\t\t\tctx.fill();\r\n\t\t\tctx.fillStyle = \"no-repeat\";\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} w\r\n\t * @param {number} h\r\n\t */\r\n\tdrawPattern2(x, y, w, h) {\r\n\t\tif (this.direction && this._pattern) {\r\n\t\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\t\tconst ctx = this._engine.ctx;\r\n\t\r\n\t\t\tctx.rect(x - this.x, y - this.y, w, h);\r\n\t\t\tctx.fillStyle = this._pattern;\r\n\t\t\tctx.fill();\r\n\t\t\tctx.fillStyle = \"no-repeat\";\r\n\t\t}\r\n\t}\r\n\r\n\t/** @returns {\"repeat\"} */\r\n\tget e_repeat() {\r\n\t\treturn \"repeat\";\r\n\t}\r\n\t/** @returns {\"repeat-x\"} */\r\n\tget e_repeat_x() {\r\n\t\treturn \"repeat-x\";\r\n\t}\r\n\t/** @returns {\"repeat-y\"} */\r\n\tget e_repeat_y() {\r\n\t\treturn \"repeat-y\";\r\n\t}\r\n\t/** @returns {\"no-repeat\"} */\r\n\tget e_noRepeat() {\r\n\t\treturn \"no-repeat\";\r\n\t}\r\n}\r\n\r\nclass $PatternSprite extends _$PatternSprite_Loaded {\r\n\tdrawPattern(w, h) {\r\n\t\tthis.drawPattern2(0, 0, w, h);\r\n\t}\r\n\tdrawPattern2(x, y, w, h) {\r\n\t\tif (this.isLoaded()) {\r\n\t\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\t\tconst ctx = this._engine.ctx;\r\n\r\n\t\t\tctx.save();\r\n\t\t\t{\r\n\t\t\t\tctx.rect(x, y, w, h);\r\n\t\t\t\tctx.clip();\r\n\t\t\t\t\r\n\t\t\t\tlet left = x;\r\n\t\t\t\tlet top = y;\r\n\t\t\t\tlet right = x + w;\r\n\t\t\t\tlet bottom = y + h;\r\n\r\n\t\t\t\tfor (let i = top; i < bottom; i += this.height) {\r\n\t\t\t\t\tfor (let j = left; j < right; j += this.width) {\r\n\t\t\t\t\t\tthis.draw2(j, i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @param {number} w\r\n\t * @param {number} h\r\n\t */\r\n\tdrawPattern(w, h) {\r\n\t\tif (this.direction) {\r\n\t\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\t\tconst ctx = this._engine.ctx;\r\n\t\r\n\t\t\tif (!this._pattern) {\r\n\t\t\t\tif (this.isLoaded()) {\r\n\t\t\t\t\tthis._pattern = ctx.createPattern(this.texture, this.direction);\r\n\t\t\t\t\tthis.__proto__ = _$PatternSprite_Loaded.prototype;\r\n\t\t\t\t\tthis.drawPattern(w, h);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number} x\r\n\t * @param {number} y\r\n\t * @param {number} w\r\n\t * @param {number} h\r\n\t */\r\n\tdrawPattern2(x, y, w, h) {\r\n\t\tif (this.direction) {\r\n\t\t\t/** @type {CanvasRenderingContext2D} */\r\n\t\t\tconst ctx = this._engine.ctx;\r\n\t\r\n\t\t\tif (!this._pattern) {\r\n\t\t\t\tif (this.isLoaded()) {\r\n\t\t\t\t\tthis._pattern = ctx.createPattern(this.texture, this.direction);\r\n\t\t\t\t\tthis.__proto__ = _$PatternSprite_Loaded.prototype;\r\n\t\t\t\t\tthis.drawPattern2(x, y, w, h);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS9TcHJpdGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9TcHJpdGUuanM/MDc3NCJdLCJzb3VyY2VzQ29udGVudCI6WyLvu79cclxuaW1wb3J0IHsgVmVjMiwgUmVjdGFuZ2xlIH0gZnJvbSBcIi4vbWF0aC5qc1wiO1xyXG5pbXBvcnQgeyBJR3JwYWgsIElSZW5kZXJlciwgSUdyYXBoIH0gZnJvbSBcIi4vSVJlbmRlcmVyLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBlbmdpbmUsIEdyYXBoIH0gZnJvbSBcIi4vRW5naW5lLmpzXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIEBleHRlbmRzIHtJR3JhcGh9XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3ByaXRlQmFzZSBleHRlbmRzIEdyYXBoIHtcclxuXHQvKipcclxuXHQgKiBAcGFyYW0geyFhbnl9IHJhd1xyXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gdXJsXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IocmF3LCB1cmwpIHtcclxuXHRcdGlmIChyYXcpIHtcclxuXHRcdFx0c3VwZXIodXJsLCB7XHJcblx0XHRcdFx0d2lkdGg6IHJhdy5fX3csXHJcblx0XHRcdFx0aGVpZ2h0OiByYXcuX19oLFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRzdXBlcigpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fcmF3ID0gcmF3O1xyXG5cdFx0XHJcblx0XHQvL3RoaXMuc3JjIGlzIGJyb2tlbjtcclxuXHJcblx0XHRpZiAodXJsKSB7XHJcblx0XHRcdGRlYnVnZ2VyXHJcblx0XHRcdHRoaXMuX3VybCA9IHVybDtcclxuXHRcdFx0Ly90aGlzLl9sb2FkVGV4dHVyZSh1cmwpOy8vX2xvYWRUZXh0dXJlOiB1bmRlZmluZWRcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKFNwcml0ZUJhc2UuaXNUZXh0dXJlKHJhdykgIT09IGZhbHNlKSB7XHJcblx0XHRcdHRoaXMuX3VybCA9IHJhd1tcIlwiXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHN0YXRpYyBpc1RleHR1cmUocmF3KSB7XHJcblx0XHRpZiAocmF3KSB7XHJcblx0XHRcdGlmIChyYXcuaGFzT3duUHJvcGVydHkoXCJcIikpIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIHJhd1tcIlwiXSA9PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGlmICghcmF3Ll9faXNFbXB0eSkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5ncm91cChcIm5vIHRleHR1cmVcIik7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4ocmF3KTtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vIHRleHR1cmVcIik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdHN0YXRpYyBpc1RleHR1cmVIYXNEYXRhKHJhdykge1xyXG5cdFx0cmV0dXJuIHJhdyAmJiB0eXBlb2YgcmF3W1wiXCJdID09ICdzdHJpbmcnICYmIHJhd1tcIlwiXS5zdGFydHNXaXRoKFwiZGF0YTppbWFnZS9cIik7XHJcblx0fVxyXG5cclxuXHRzZXQgeih2YWx1ZSkge1xyXG5cdFx0dGhpcy5fb3JkZXIgPSB2YWx1ZTtcclxuXHR9XHJcblx0Z2V0IHooKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fb3JkZXI7XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIHRyeSBjb25zdHJ1Y3QgdmFsdWUgZnJvbSByYXcgZGF0YVxyXG5cdCAqIEBwYXJhbSB7VH0gZGVmYXVsdFZhbHVlXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5TmFtZVxyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb24oYW55KTpUfSBjb25zdHJ1Y3RvclxyXG5cdCAqIEByZXR1cm5zIHtUfVxyXG5cdCAqIEB0ZW1wbGF0ZSBUXHJcblx0ICovXHJcblx0X2dldChkZWZhdWx0VmFsdWUsIHByb3BlcnR5TmFtZSwgY29udmVydGVyKSB7XHJcblx0XHRpZiAoIXRoaXMuX3Jhdykge1xyXG5cdFx0XHRkZWJ1Z2dlcjtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKHByb3BlcnR5TmFtZSBpbiB0aGlzLl9yYXcpIHtcclxuXHRcdFx0cmV0dXJuIGNvbnZlcnRlcih0aGlzLl9yYXdbcHJvcGVydHlOYW1lXSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cdH1cclxuXHJcblx0ZHJhdygpIHtcclxuXHRcdHRoaXMuX2VuZ2luZS5kcmF3R3JhcGgodGhpcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICovXHJcblx0ZHJhdzIoeCwgeSkge1xyXG5cdFx0dGhpcy5fZW5naW5lLmRyYXdHcmFwaDIodGhpcywgeCAtIHRoaXMueCwgeSAtIHRoaXMueSk7XHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdHlwZTogaW50XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0eXBlOiBpbnRcclxuXHQgKi9cclxuXHRkcmF3MmkoeCwgeSkge1xyXG5cdFx0dGhpcy5fZW5naW5lLmRyYXdHcmFwaDIodGhpcywgTWF0aC50cnVuYyh4IC0gdGhpcy54ICsgMC41KSwgTWF0aC50cnVuYyh5IC0gdGhpcy55ICsgMC41KSk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNwcml0ZSBleHRlbmRzIFNwcml0ZUJhc2Uge1xyXG5cdC8qKlxyXG5cdCAqIHNwcml0ZSA9IG5ldyBTcHJpdGUocmF3RGF0YSk7Ly/kuI3mnIPovInlhaVpbWFnZVxyXG5cdCAqIHNwcml0ZS5fdXJsID0gaW1nX3VybDsvL+S4jeacg+i8ieWFpWltYWdlXHJcblx0ICpcclxuXHQgKiDmnIPop7jnmbzovInlhaVpbWFnZeeahG1ldGhvZFxyXG5cdCAqIGRyYXcoKSwgaXNMb2FkZWQoKSwgZ2V0IHdpZHRoKCksIGdldCBoZWlnaHQoKVxyXG5cdCAqIFxyXG5cdCAqIOaJi+WLlei8ieWFpWltYWdlOiBfX2xvYWRUZXh0dXJlKClcclxuXHQgKiBcclxuXHQgKiBAcGFyYW0geyFhbnl9IHJhd1xyXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gdXJsXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IocmF3LCB1cmwpIHtcclxuXHRcdHN1cGVyKHJhdywgdXJsKTtcclxuXHJcblx0XHR2YXIgb3JpZ2luID0gdGhpcy5fZ2V0KG5ldyBWZWMyKDAsIDApLCBcIm9yaWdpblwiLCBWZWMyLmdldCk7XHJcblx0XHR0aGlzLnggPSBvcmlnaW4ueDtcclxuXHRcdHRoaXMueSA9IG9yaWdpbi55O1xyXG5cclxuXHRcdHRoaXMueiA9IHRoaXMuX2dldCgwLCBcInpcIiwgTnVtYmVyKTtcclxuXHJcblx0XHR0aGlzLmRlbGF5ID0gdGhpcy5fZ2V0KDEwMCwgXCJkZWxheVwiLCBOdW1iZXIpO1xyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHdcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gaFxyXG5cdCAqL1xyXG5cdGRyYXdQYXR0ZXJuKHgsIHksIHcsIGgpIHtcclxuXHRcdGlmICghdGhpcy5pc0xvYWRlZCgpKSB7XHJcblx0XHRcdHJldHVybjsvL3Nwcml0ZSByZXF1aXJlIHByb3BlcnR5OiB3aWR0aCwgaGVpZ2h0XHJcblx0XHR9XHJcblx0XHQvKiogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gKi9cclxuXHRcdGNvbnN0IGN0eCA9IHRoaXMuX2VuZ2luZS5jdHg7XHJcblxyXG5cdFx0Y3R4LnNhdmUoKTtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGN0eC5yZWN0KHgsIHksIHcsIGgpO1xyXG5cdFx0XHRjdHguY2xpcCgpO1xyXG5cclxuXHRcdFx0bGV0IGxlZnQgPSB4O1xyXG5cdFx0XHRsZXQgdG9wID0geTtcclxuXHRcdFx0bGV0IHJpZ2h0ID0geCArIHc7XHJcblx0XHRcdGxldCBib3R0b20gPSB5ICsgaDtcclxuXHJcblx0XHRcdGZvciAobGV0IGkgPSB0b3A7IGkgPCBib3R0b207IGkgKz0gdGhpcy5oZWlnaHQpIHtcclxuXHRcdFx0XHRmb3IgKGxldCBqID0gbGVmdDsgaiA8IHJpZ2h0OyBqICs9IHRoaXMud2lkdGgpIHtcclxuXHRcdFx0XHRcdHRoaXMuZHJhdzIoaiwgaSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRjYXRjaCAoZXgpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihleCk7XHJcblx0XHRcdGRlYnVnZ2VyO1xyXG5cdFx0fVxyXG5cdFx0Y3R4LnJlc3RvcmUoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHlcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gd1xyXG5cdCAqL1xyXG5cdGRyYXdIb3Jpem9udGFsUGF0dGVybih4LCB5LCB3KSB7XHJcblx0XHRpZiAoIXRoaXMuaXNMb2FkZWQoKSkge1xyXG5cdFx0XHRyZXR1cm47Ly9zcHJpdGUgcmVxdWlyZSBwcm9wZXJ0eTogd2lkdGgsIGhlaWdodFxyXG5cdFx0fVxyXG5cdFx0LyoqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICovXHJcblx0XHRjb25zdCBjdHggPSB0aGlzLl9lbmdpbmUuY3R4O1xyXG5cclxuXHRcdGN0eC5zYXZlKCk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBsZWZ0ID0geDtcclxuXHRcdFx0Y29uc3QgcmlnaHQgPSB4ICsgdztcclxuXHJcblx0XHRcdGZvciAobGV0IGogPSBsZWZ0OyBqIDwgcmlnaHQ7IGogKz0gdGhpcy53aWR0aCkge1xyXG5cdFx0XHRcdHRoaXMuZHJhdzIoaiwgeSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGNhdGNoIChleCkge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKGV4KTtcclxuXHRcdFx0ZGVidWdnZXI7XHJcblx0XHR9XHJcblx0XHRjdHgucmVzdG9yZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBoXHJcblx0ICovXHJcblx0ZHJhd1ZlcnRpY2FsUGF0dGVybih4LCB5LCBoKSB7XHJcblx0XHRpZiAoIXRoaXMuaXNMb2FkZWQoKSkge1xyXG5cdFx0XHRyZXR1cm47Ly9zcHJpdGUgcmVxdWlyZSBwcm9wZXJ0eTogd2lkdGgsIGhlaWdodFxyXG5cdFx0fVxyXG5cdFx0LyoqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICovXHJcblx0XHRjb25zdCBjdHggPSB0aGlzLl9lbmdpbmUuY3R4O1xyXG5cclxuXHRcdGN0eC5zYXZlKCk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCB0b3AgPSB5O1xyXG5cdFx0XHRjb25zdCBib3R0b20gPSB5ICsgaDtcclxuXHJcblx0XHRcdGZvciAobGV0IGkgPSB0b3A7IGkgPCBib3R0b207IGkgKz0gdGhpcy5oZWlnaHQpIHtcclxuXHRcdFx0XHR0aGlzLmRyYXcyKHgsIGkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRjYXRjaCAoZXgpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihleCk7XHJcblx0XHRcdGRlYnVnZ2VyO1xyXG5cdFx0fVxyXG5cdFx0Y3R4LnJlc3RvcmUoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIHdpdGhvdXQgY2xpcFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHlcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gd1xyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBoXHJcblx0ICovXHJcblx0X2RyYXdQYXR0ZXJuKHgsIHksIHcsIGgpIHtcclxuXHRcdGlmICghdGhpcy5pc0xvYWRlZCgpKSB7XHJcblx0XHRcdHJldHVybjsvL3Nwcml0ZSByZXF1aXJlIHByb3BlcnR5OiB3aWR0aCwgaGVpZ2h0XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHN3ID0gTWF0aC50cnVuYyh3IC8gdGhpcy53aWR0aCkgKiB0aGlzLndpZHRoO1xyXG5cdFx0Y29uc3Qgc2ggPSBNYXRoLnRydW5jKGggLyB0aGlzLmhlaWdodCkgKiB0aGlzLmhlaWdodDtcclxuXHRcdFxyXG5cdFx0Y29uc3QgbGVmdCA9IHg7XHJcblx0XHRjb25zdCB0b3AgPSB5O1xyXG5cdFx0Y29uc3QgcmlnaHQgPSB4ICsgc3c7XHJcblx0XHRjb25zdCBib3R0b20gPSB5ICsgaDtcclxuXHJcblx0XHRsZXQgaSwgajtcclxuXHJcblx0XHRpZiAoaCA+PSB0aGlzLmhlaWdodCkge1xyXG5cdFx0XHRmb3IgKGkgPSB0b3A7IGkgPCBib3R0b207IGkgKz0gdGhpcy5oZWlnaHQpIHtcclxuXHRcdFx0XHRpZiAodyA+PSB0aGlzLndpZHRoKSB7XHJcblx0XHRcdFx0XHRmb3IgKGogPSBsZWZ0OyBqIDwgcmlnaHQ7IGogKz0gdGhpcy53aWR0aCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRyYXcyKGosIGkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bGV0IHN4ID0gdyAtIHN3O1xyXG5cdFx0XHRcdFx0aWYgKHN4ID4gMCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9lbmdpbmUuX2RyYXdJbWFnZSh0aGlzLCAwLCAwLCBzeCwgdGhpcy5oZWlnaHQsIGogLSB0aGlzLngsIGkgLSB0aGlzLnksIHN4LCB0aGlzLmhlaWdodCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5fZW5naW5lLl9kcmF3SW1hZ2UodGhpcywgMCwgMCwgdywgdGhpcy5oZWlnaHQsIGxlZnQgLSB0aGlzLngsIGkgLSB0aGlzLnksIHcsIHRoaXMuaGVpZ2h0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IHN5ID0gaCAtIHNoO1xyXG5cdFx0XHRpZiAoc3kgPiAwKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcihuZXcgRXJyb3IoXCLmnKrlrozmiJBcIikpO1xyXG5cdFx0XHRcdHRoaXMuX2VuZ2luZS5fZHJhd0ltYWdlKHRoaXMsIDAsIDAsIHRoaXMud2lkdGgsIHN5LCBsZWZ0IC0gdGhpcy54LCBpIC0gdGhpcy55LCB0aGlzLndpZHRoLCBzeSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKG5ldyBFcnJvcihcIuacquWujOaIkFwiKSk7XHJcblx0XHRcdHRoaXMuX2VuZ2luZS5fZHJhd0ltYWdlKHRoaXMsIDAsIDAsIHRoaXMud2lkdGgsIGgsIGxlZnQgLSB0aGlzLngsIHRvcCAtIHRoaXMueSwgdGhpcy53aWR0aCwgaCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiB3aXRob3V0IGNsaXBcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHdcclxuXHQgKi9cclxuXHRfZHJhd0hvcml6b250YWxQYXR0ZXJuKHgsIHksIHcpIHtcclxuXHRcdGlmICghdGhpcy5pc0xvYWRlZCgpKSB7XHJcblx0XHRcdHJldHVybjsvL3Nwcml0ZSByZXF1aXJlIHByb3BlcnR5OiB3aWR0aCwgaGVpZ2h0XHJcblx0XHR9XHJcblx0XHQvKiogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gKi9cclxuXHRcdGNvbnN0IGN0eCA9IHRoaXMuX2VuZ2luZS5jdHg7XHJcblxyXG5cdFx0Y29uc3QgbGVmdCA9IHg7XHJcblx0XHRjb25zdCByaWdodCA9IHggKyB3O1xyXG5cclxuXHRcdGZvciAobGV0IGogPSBsZWZ0OyBqIDwgcmlnaHQ7IGogKz0gdGhpcy53aWR0aCkge1xyXG5cdFx0XHR0aGlzLmRyYXcyKGosIHkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogd2l0aG91dCBjbGlwXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBoXHJcblx0ICovXHJcblx0X2RyYXdWZXJ0aWNhbFBhdHRlcm4oeCwgeSwgaCkge1xyXG5cdFx0aWYgKCF0aGlzLmlzTG9hZGVkKCkpIHtcclxuXHRcdFx0cmV0dXJuOy8vc3ByaXRlIHJlcXVpcmUgcHJvcGVydHk6IHdpZHRoLCBoZWlnaHRcclxuXHRcdH1cclxuXHRcdC8qKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAqL1xyXG5cdFx0Y29uc3QgY3R4ID0gdGhpcy5fZW5naW5lLmN0eDtcclxuXHJcblx0XHRjb25zdCB0b3AgPSB5O1xyXG5cdFx0Y29uc3QgYm90dG9tID0geSArIGg7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IHRvcDsgaSA8IGJvdHRvbTsgaSArPSB0aGlzLmhlaWdodCkge1xyXG5cdFx0XHR0aGlzLmRyYXcyKHgsIGkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdHlwZTogaW50XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0eXBlOiBpbnRcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gdyAtIHR5cGU6IGludFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBoIC0gdHlwZTogaW50XHJcblx0ICovXHJcblx0ZHJhd1BhdHRlcm40aSh4LCB5LCB3LCBoKSB7XHJcblx0XHR0aGlzLmRyYXdQYXR0ZXJuKE1hdGgudHJ1bmMoeCArIDAuNSksIE1hdGgudHJ1bmMoeSArIDAuNSksIE1hdGgudHJ1bmModyArIDAuNSksIE1hdGgudHJ1bmMoaCArIDAuNSkpO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geCAtIHR5cGU6IGludFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdHlwZTogaW50XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHcgLSB0eXBlOiBpbnRcclxuXHQgKi9cclxuXHRkcmF3SG9yaXpvbnRhbFBhdHRlcm4zaSh4LCB5LCB3KSB7XHJcblx0XHR0aGlzLmRyYXdIb3Jpem9udGFsUGF0dGVybihNYXRoLnRydW5jKHggKyAwLjUpLCBNYXRoLnRydW5jKHkgKyAwLjUpLCBNYXRoLnRydW5jKHcgKyAwLjUpKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHggLSB0eXBlOiBpbnRcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geSAtIHR5cGU6IGludFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBoIC0gdHlwZTogaW50XHJcblx0ICovXHJcblx0ZHJhd1ZlcnRpY2FsUGF0dGVybjNpKHgsIHksIGgpIHtcclxuXHRcdHRoaXMuZHJhd1ZlcnRpY2FsUGF0dGVybihNYXRoLnRydW5jKHggKyAwLjUpLCBNYXRoLnRydW5jKHkgKyAwLjUpLCBNYXRoLnRydW5jKGggKyAwLjUpKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogd2l0aG91dCBjbGlwXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHggLSB0eXBlOiBpbnRcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geSAtIHR5cGU6IGludFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB3IC0gdHlwZTogaW50XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGggLSB0eXBlOiBpbnRcclxuXHQgKi9cclxuXHRfZHJhd1BhdHRlcm40aSh4LCB5LCB3LCBoKSB7XHJcblx0XHR0aGlzLl9kcmF3UGF0dGVybihNYXRoLnRydW5jKHggKyAwLjUpLCBNYXRoLnRydW5jKHkgKyAwLjUpLCBNYXRoLnRydW5jKHcgKyAwLjUpLCBNYXRoLnRydW5jKGggKyAwLjUpKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogd2l0aG91dCBjbGlwXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHggLSB0eXBlOiBpbnRcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geSAtIHR5cGU6IGludFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB3IC0gdHlwZTogaW50XHJcblx0ICovXHJcblx0X2RyYXdIb3Jpem9udGFsUGF0dGVybjNpKHgsIHksIHcpIHtcclxuXHRcdHRoaXMuX2RyYXdIb3Jpem9udGFsUGF0dGVybihNYXRoLnRydW5jKHggKyAwLjUpLCBNYXRoLnRydW5jKHkgKyAwLjUpLCBNYXRoLnRydW5jKHcgKyAwLjUpKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogd2l0aG91dCBjbGlwXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHggLSB0eXBlOiBpbnRcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geSAtIHR5cGU6IGludFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBoIC0gdHlwZTogaW50XHJcblx0ICovXHJcblx0X2RyYXdWZXJ0aWNhbFBhdHRlcm4zaSh4LCB5LCBoKSB7XHJcblx0XHR0aGlzLl9kcmF3VmVydGljYWxQYXR0ZXJuKE1hdGgudHJ1bmMoeCArIDAuNSksIE1hdGgudHJ1bmMoeSArIDAuNSksIE1hdGgudHJ1bmMoaCArIDAuNSkpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIF8kUGF0dGVyblNwcml0ZV9Mb2FkZWQgZXh0ZW5kcyBTcHJpdGUge1xyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7IWFueX0gcmF3XHJcblx0ICogQHBhcmFtIHtzdHJpbmc9fSB1cmxcclxuXHQgKi9cclxuXHRjb25zdHJ1Y3RvcihyYXcsIHVybCkge1xyXG5cdFx0c3VwZXIocmF3LCB1cmwpO1xyXG5cclxuXHRcdC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG5cdFx0dGhpcy5fZGlyZWN0aW9uID0gbnVsbDtcclxuXHJcblx0XHQvKiogQHR5cGUge0NhbnZhc1BhdHRlcm59ICovXHJcblx0XHR0aGlzLl9wYXR0ZXJuID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xyXG5cdGdldCBkaXJlY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fZGlyZWN0aW9uO1xyXG5cdH1cclxuXHRzZXQgZGlyZWN0aW9uKHZhbHVlKSB7XHJcblx0XHRpZiAodmFsdWUgJiYgdGhpcy5fZGlyZWN0aW9uICE9IHZhbHVlKSB7XHJcblx0XHRcdHRoaXMuX2RpcmVjdGlvbiA9IHZhbHVlO1xyXG5cdFxyXG5cdFx0XHQvL3JlbG9hZDtcclxuXHRcdFx0dGhpcy5fcGF0dGVybiA9IG51bGw7XHJcblx0XHRcdHRoaXMuX19wcm90b19fID0gJFBhdHRlcm5TcHJpdGUucHJvdG90eXBlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHdcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gaFxyXG5cdCAqL1xyXG5cdGRyYXdQYXR0ZXJuKHcsIGgpIHtcclxuXHRcdGlmICh0aGlzLmRpcmVjdGlvbiAmJiB0aGlzLl9wYXR0ZXJuKSB7XHJcblx0XHRcdC8qKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAqL1xyXG5cdFx0XHRjb25zdCBjdHggPSB0aGlzLl9lbmdpbmUuY3R4O1xyXG5cdFxyXG5cdFx0XHRjdHgucmVjdCgtdGhpcy54LCAtdGhpcy55LCB3LCBoKTtcclxuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IHRoaXMuX3BhdHRlcm47XHJcblx0XHRcdGN0eC5maWxsKCk7XHJcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBcIm5vLXJlcGVhdFwiO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHdcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gaFxyXG5cdCAqL1xyXG5cdGRyYXdQYXR0ZXJuMih4LCB5LCB3LCBoKSB7XHJcblx0XHRpZiAodGhpcy5kaXJlY3Rpb24gJiYgdGhpcy5fcGF0dGVybikge1xyXG5cdFx0XHQvKiogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gKi9cclxuXHRcdFx0Y29uc3QgY3R4ID0gdGhpcy5fZW5naW5lLmN0eDtcclxuXHRcclxuXHRcdFx0Y3R4LnJlY3QoeCAtIHRoaXMueCwgeSAtIHRoaXMueSwgdywgaCk7XHJcblx0XHRcdGN0eC5maWxsU3R5bGUgPSB0aGlzLl9wYXR0ZXJuO1xyXG5cdFx0XHRjdHguZmlsbCgpO1xyXG5cdFx0XHRjdHguZmlsbFN0eWxlID0gXCJuby1yZXBlYXRcIjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKiBAcmV0dXJucyB7XCJyZXBlYXRcIn0gKi9cclxuXHRnZXQgZV9yZXBlYXQoKSB7XHJcblx0XHRyZXR1cm4gXCJyZXBlYXRcIjtcclxuXHR9XHJcblx0LyoqIEByZXR1cm5zIHtcInJlcGVhdC14XCJ9ICovXHJcblx0Z2V0IGVfcmVwZWF0X3goKSB7XHJcblx0XHRyZXR1cm4gXCJyZXBlYXQteFwiO1xyXG5cdH1cclxuXHQvKiogQHJldHVybnMge1wicmVwZWF0LXlcIn0gKi9cclxuXHRnZXQgZV9yZXBlYXRfeSgpIHtcclxuXHRcdHJldHVybiBcInJlcGVhdC15XCI7XHJcblx0fVxyXG5cdC8qKiBAcmV0dXJucyB7XCJuby1yZXBlYXRcIn0gKi9cclxuXHRnZXQgZV9ub1JlcGVhdCgpIHtcclxuXHRcdHJldHVybiBcIm5vLXJlcGVhdFwiO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzICRQYXR0ZXJuU3ByaXRlIGV4dGVuZHMgXyRQYXR0ZXJuU3ByaXRlX0xvYWRlZCB7XHJcblx0ZHJhd1BhdHRlcm4odywgaCkge1xyXG5cdFx0dGhpcy5kcmF3UGF0dGVybjIoMCwgMCwgdywgaCk7XHJcblx0fVxyXG5cdGRyYXdQYXR0ZXJuMih4LCB5LCB3LCBoKSB7XHJcblx0XHRpZiAodGhpcy5pc0xvYWRlZCgpKSB7XHJcblx0XHRcdC8qKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAqL1xyXG5cdFx0XHRjb25zdCBjdHggPSB0aGlzLl9lbmdpbmUuY3R4O1xyXG5cclxuXHRcdFx0Y3R4LnNhdmUoKTtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGN0eC5yZWN0KHgsIHksIHcsIGgpO1xyXG5cdFx0XHRcdGN0eC5jbGlwKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0bGV0IGxlZnQgPSB4O1xyXG5cdFx0XHRcdGxldCB0b3AgPSB5O1xyXG5cdFx0XHRcdGxldCByaWdodCA9IHggKyB3O1xyXG5cdFx0XHRcdGxldCBib3R0b20gPSB5ICsgaDtcclxuXHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IHRvcDsgaSA8IGJvdHRvbTsgaSArPSB0aGlzLmhlaWdodCkge1xyXG5cdFx0XHRcdFx0Zm9yIChsZXQgaiA9IGxlZnQ7IGogPCByaWdodDsgaiArPSB0aGlzLndpZHRoKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZHJhdzIoaiwgaSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGN0eC5yZXN0b3JlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB3XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGhcclxuXHQgKi9cclxuXHRkcmF3UGF0dGVybih3LCBoKSB7XHJcblx0XHRpZiAodGhpcy5kaXJlY3Rpb24pIHtcclxuXHRcdFx0LyoqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICovXHJcblx0XHRcdGNvbnN0IGN0eCA9IHRoaXMuX2VuZ2luZS5jdHg7XHJcblx0XHJcblx0XHRcdGlmICghdGhpcy5fcGF0dGVybikge1xyXG5cdFx0XHRcdGlmICh0aGlzLmlzTG9hZGVkKCkpIHtcclxuXHRcdFx0XHRcdHRoaXMuX3BhdHRlcm4gPSBjdHguY3JlYXRlUGF0dGVybih0aGlzLnRleHR1cmUsIHRoaXMuZGlyZWN0aW9uKTtcclxuXHRcdFx0XHRcdHRoaXMuX19wcm90b19fID0gXyRQYXR0ZXJuU3ByaXRlX0xvYWRlZC5wcm90b3R5cGU7XHJcblx0XHRcdFx0XHR0aGlzLmRyYXdQYXR0ZXJuKHcsIGgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geVxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB3XHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGhcclxuXHQgKi9cclxuXHRkcmF3UGF0dGVybjIoeCwgeSwgdywgaCkge1xyXG5cdFx0aWYgKHRoaXMuZGlyZWN0aW9uKSB7XHJcblx0XHRcdC8qKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAqL1xyXG5cdFx0XHRjb25zdCBjdHggPSB0aGlzLl9lbmdpbmUuY3R4O1xyXG5cdFxyXG5cdFx0XHRpZiAoIXRoaXMuX3BhdHRlcm4pIHtcclxuXHRcdFx0XHRpZiAodGhpcy5pc0xvYWRlZCgpKSB7XHJcblx0XHRcdFx0XHR0aGlzLl9wYXR0ZXJuID0gY3R4LmNyZWF0ZVBhdHRlcm4odGhpcy50ZXh0dXJlLCB0aGlzLmRpcmVjdGlvbik7XHJcblx0XHRcdFx0XHR0aGlzLl9fcHJvdG9fXyA9IF8kUGF0dGVyblNwcml0ZV9Mb2FkZWQucHJvdG90eXBlO1xyXG5cdFx0XHRcdFx0dGhpcy5kcmF3UGF0dGVybjIoeCwgeSwgdywgaCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/Sprite.js\n");

/***/ })

}]);